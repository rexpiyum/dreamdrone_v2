{"version":3,"sources":["drone.png","story1.jpg","story2.jpg","story3.jpg","story4.jpg","logo.svg","colorTheme.js","devices.js","components/Feature.js","components/Button.js","components/ReadOnlyFeature.js","utils.js","components/DroneStory.js","components/StartView.js","components/Root.js","components/NewFeature.js","components/LoadingWidget.js","components/AddFeaturesView.js","components/NewStory.js","components/AddStoryView.js","components/SelectStoryView.js","selectOptions.js","components/FinishView.js","components/DoneView.js","components/ConsentView.js","components/TestView.js","components/Data_Story.js","components/Data_Feature.js","components/Data_Drone.js","components/DataView.js","components/AllStoriesView.js","components/DroneStory_React.js","components/ReactToStoryView.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","theme","size","devices","mobileS","mobileM","mobileL","mobile","tablet","laptop","laptopL","desktop","desktopL","slide","keyframes","Wrapper","styled","div","Title","h3","Description","p","Overlay","FeatureButton","button","FeatureType","selectable","selected","disabled","placeHolder","Feature","props","state","overlay","this","featureType","onClick","setState","clickHandler","isDisabled","onTouchStart","onMouseEnter","onMouseLeave","title","description","Component","small","NewFeature","isGibberish","string","minLength","length","toLowerCase","includes","pair","prob","line","i","charAt","substring","replace","normalizeString","model","Math","exp","detectGibberishFromModel","DroneWrapper","DroneImage","img","FixedFeatureWrapper","top","left","DroneName","h2","StoryWrapper","MainStory","SubStory","WriteButton","appear","StoryInputWrapper","StoryInput","textarea","StoryPrompt","AutoSave","LEFT_FACTOR","position","TOP_FACTOR","LEFT_0","TOP_0","characterInputCount","DroneStory","newSubStoryID","storyZoom","renderStoryInput","droneStory","newStories","autoSave","window","innerWidth","end","scrollIntoView","behavior","ref","onBlur","updateSubStory","src","logo","alt","drone","features","map","item","key","index","name","mainStory","text","el","placeholder","ev","value","_id","onChange","onDroneStoryChange","subStories","isFlagged","target","fetch","method","body","JSON","stringify","headers","then","response","json","data","createNewStory","push","updateDrone","StoryImage","StoryText","h1","StoryBoard","StartButton","fill","SampleStory","SampleStoryContent","SampleStoryText","SampleStoryTile","intervelRef","require","boards","boardDisplay","StartView","runStorySequence","storyIndex","clearInterval","document","setInterval","startClick","history","AddButton","TITLE_PLACEHOLDER","DESCRIPTION_PLACEHOLDER","titlePlaceholder","descriptionPlaceholder","onTitleChange","onKeyPress","onTitleKeyPress","onDescriptionChange","renderAddButton","preventDefault","refs","focus","handleAddClick","clear","DotWrapper","Dot","DOT_COUNT","LoadingWidget","runLoadingWidgetSequence","renderLoadingWidgetDots","dots","Header","HeaderText","ContentWrapper","RowWrapper","Row","RowHeader","CircleButton","Button","FeatureSet","FeaturePlaceholder","VISIBLE_FEATURES_COUNT","dummyArrayOfFour","featurePool","AddStoryView","handleFeaureClick","feature","FeatureTypes","displayMaxFeaturesAlert","featureSet","pop","splice","handleAddNewFeatureClick","visiblefeatureIndex","visibleFetures","selectedFetures","setFeatureSet","match","params","id","console","log","renderButton","bind","handlePreviousClick","slice","handleNextClick","renderScrollDots","alert","NAME_PLACEHOLDER","STORY_PLACEHOLDER","NewStory","droneName","droneNamePlaceholder","droneStoryPlaceholder","story","changeHandler","onDroneNameChange","callback","callbackhandler","updateStory","createdBy","DroneStroryWrpper","dronePool","SelectStoryView","droneSet","setDroneSet","writeCallbackHandler","DRONE_SET_SIZE","countries","ageRanges","genderOptions","droneOwnership","ThankYouText","Message","PromptContainer","Prompt","TextField","input","SingleTextField","Select","select","SkipButton","NameEmailWrapper","FinishView","isOwning","ageRange","gender","country","background","email","selectedIndex","hidden","handleSubmit","user_id","DoneView","drones","ConsentView","scrollTo","href","view","HeaderContainer","SubHeader","ModuleContainer","PlaceHolder","Module","ScrollContainer","FirstModule","Circle","CircleFull","CircleEnabled","TitleDisabled","TestView","P","ToggleButton","flagged","Data_Story","catchGibberish","prevProps","filter","Data_Feature","updateFeature","Data_Drone","FilterButton","LeftWrapper","RightWrapper","DroneListItem","DataView","selectedDrone","dronesCSV","forEach","populateDroneCSV","droneObj","superPowers","createdDate","filename","reverse","TitleText","CreateButton","AllStoriesView","createButtonText","undefined","createButton","MainWrapper","ReactionsWrapper","SelectionButton","ButtonRow","SUB_PROMPTS","CHOICES","reaction","selection","subText","secondaryText","handleSelectionChange","RefreshButton","ReactToStoryView","App","className","exact","path","component","Features","Story","AllStroriesView","Boolean","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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kB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,MAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,oBAAqB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,gBAAgB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAkB,IAAM,mBAAmB,IAAM,gBAAgB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,gBAAgB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,kBAAkB,MAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,MAAM,kBAAmB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,MAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,kBAAkB,IAAM,mBAAmB,IAAM,kBAAkB,IAAM,iBAAiB,IAAM,kBAAkB,IAAM,kBAA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","file":"static/js/main.1d431549.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/drone.aff27fc6.png\";","module.exports = __webpack_public_path__ + \"static/media/story1.862e56b3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/story2.2530fae5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/story3.db757299.jpg\";","module.exports = __webpack_public_path__ + \"static/media/story4.f838a59f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","export const theme = {\n    primaryColor: '#0F3C7A',\n    secondaryColor:\"#B3CE00\"\n  };","const size = {\n  mobileS: '320px',\n  mobileM: '375px',\n  mobileL: '800px',\n  tablet: '768px',\n  laptop: '1024px',\n  laptopL: '1440px',\n  desktop: '2560px'\n}\n\nexport const devices = {\n  mobileS: `(max-width: ${size.mobileS})`,\n  mobileM: `(max-width: ${size.mobileM})`,\n  mobileL: `(max-width: ${size.mobileL})`,\n  mobile: `(max-width: ${size.mobileL})`,\n  tablet: `(max-width: ${size.tablet})`,\n  laptop: `(max-width: ${size.laptop})`,\n  laptopL: `(max-width: ${size.laptopL})`,\n  desktop: `(max-width: ${size.desktop})`,\n  desktopL: `(max-width: ${size.desktop})`\n};\n","import React, { Component } from \"react\";\nimport styled,{keyframes} from \"styled-components\";\nimport {theme} from \"../colorTheme\";\nimport {devices} from \"../devices.js\"\n\n\n\nconst slide = keyframes`\n  from {\n      opacity: 0;\n      transform: translateY(20px);\n  }\n  to {\n      opacity: 1;\n      transform: translateY(0);\n  }\n`\n\nconst Wrapper = styled.div`\n  position:relative;\n  border-radius:2vw;\n  border: solid 1px ${theme.secondaryColor};\n  width:12vw;\n  height:12vw;\n  max-height:12vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  background-color:#ffffff;\n  &:hover{\n    transform: scale(1.04);\n\n  }\n  margin:0.8vw;\n  box-shadow: 0.4vw 0.4vw ${theme.secondaryColor};\n\n  @media ${devices.mobile} {\n    width:30vw;\n    height:30vw;\n    max-height:30vw;\n  }\n`;\n\nconst Title = styled.h3`\n  font-size: 1.2vw\n  margin: 0.5vw;\n  font-family: \"Nunito\";\n  font-weight: 700\n  animation: ${slide} 1s ease;\n\n  @media ${devices.mobile} {\n    font-size: 3vw\n  }\n`;\n\nconst Description = styled.p`\n  font-size: 1.1vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  margin: 1vw 0.5vw;\n  animation: ${slide} 2s ease;\n\n  @media ${devices.mobile} {\n    font-size: 2.5vw\n  }\n`;\n\nconst Overlay = styled.div`\nwidth:12vw;\nheight:12vw;\nmax-height:12vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\noverflow:scroll;\n// background:${theme.secondaryColor};\nopacity: 0.95;\nposition:absolute;\ntop:0;\nleft:0;\ndisplay: flex;\nalign-items: center;\n\n@media ${devices.mobile} {\n  width:30vw;\n  height:30vw;\n  max-height:30vw;\n}\n\n`;\n\nconst FeatureButton = styled.button`\n border-radius:.8vw;\nborder: solid 2px #ffffff;\nbackground-color:${theme.secondaryColor};\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\n\noverflow:scroll;\nmargin:auto;\nmargin-bottom:1vw;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:#ffffff;\noutline:none;\n\n@media ${devices.mobile} {\n  font-size: 3vw\n  width:auto;\n  height:auto;\n  max-height:none;\n  padding:2vw 2vw;\n\n\n}\n\n`;\n\n\nexport const FeatureType = {selectable: 1, selected: 2, disabled: 3, placeHolder:4};\n\n\nclass Feature extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      overlay:false\n    };\n  }\n\n  render() {\n    let overlay = null;\n    if(!(this.props.featureType == FeatureType.disabled) && this.state.overlay){\n      overlay = <Overlay>\n        <FeatureButton onClick={()=>{this.setState({overlay:false}); this.props.clickHandler(this.props)}}>{this.props.featureType == FeatureType.selectable ? \"Add to drone\" : \"Remove\"}</FeatureButton>\n      </Overlay>\n    }\n    return (\n      <Wrapper isDisabled={this.props.featureType == FeatureType.disabled} onTouchStart={() => {this.setState({overlay:true})}} onMouseEnter={() => {this.setState({overlay:true})}} onMouseLeave={() => {this.setState({overlay:false})}}>\n        <Title>{this.props.title}</Title>\n        <Description>{this.props.description}</Description>\n        {overlay}\n      </Wrapper>\n  )\n\n    return null;\n  }\n}\n\nexport default Feature;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\n// import {devices} from \"../devices\";\n\n\nconst Wrapper = styled.div`\n  border-radius:.8vw;\n  border: solid 1px #ffffff;\n  background-color:#d1119c;\n  width:6vw;\n  height:3vw;\n  max-height:3vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  padding:0.5vw;\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n\n  font-size: 1.2vw\n  margin: 0.2vw;\n  font-family: \"Nunito\";\n  font-weight: 700\n  color:#ffffff;\n`;\n\n\n\nclass Button extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  render() {\n    return (\n      <Wrapper>{this.props.Text}</Wrapper>\n  )\n\n    return null;\n  }\n\n\n\n}\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"./Button\";\nimport {devices} from \"../devices.js\"\n\n\nimport {theme} from \"../colorTheme\";\n\n\nconst Wrapper = styled.div`\n  border-radius:0.5vw;\n  border: solid 1px ${theme.primaryColor};\n  width:${props => props.small? 7:9}vw;\n  height:${props => props.small? 4:9}vw;\n  max-height:${props => props.small? 4:9}vw;\n  text-align: center;\n  overflow:scroll;\n  padding:0.5vw;\n  background-color:#ffffff;\n  margin:auto;\n  box-shadow: 0.4vw 0.4vw ${theme.primaryColor};\n\n  @media ${devices.mobile} {\n    width:25vw;\n    height:25vw;\n    max-height:25vw;\n  }\n`;\n\nconst Title = styled.div`\n  font-size: 1.2vw\n  margin: 0.2vw;\n  font-family: \"Nunito\";\n  font-weight: 700;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n\n  @media ${devices.mobile} {\n    font-size: 3vw\n  }\n`;\n\nconst Description = styled.div`\n  font-size: 1.1vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n  min-height:40%;\n  display:${props => props.small?'none' : 'block'}\n\n  @media ${devices.mobile} {\n    font-size: 2.5vw\n  }\n`;\n\nclass NewFeature extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <Wrapper small={this.props.small}>\n        <Title>{this.props.title}</Title>\n        <Description small={this.props.small}>{this.props.description}</Description>\n      </Wrapper>\n    )\n    return null;\n  }\n}\n\nexport default NewFeature;\n","export function isGibberish(string, minLength){\n\n    if (!string) return true\n    \n    if(string.length<minLength) return true\n\n    if(string.toLowerCase().includes(\"test\")) return true\n\n    return detectGibberishFromModel(string)\n\n}\n\n\n\nfunction detectGibberishFromModel(string){\n    var pair;\n    var prob = 0.0;\n    string = normalizeString(string)\n    for(var i=0; i<string.length-1; i++){\n        pair = string.charAt(i) + \"\" + string.charAt(i + 1);\n        prob += model[pair]\n    }\n    return Math.exp(prob/(string.length-1)) < 0.0187820034731\n}\n\nfunction normalizeString(line){\n    var validCharacters = \"abcdefghijklmnopqrstuvwxyz \";\n    line = line.toLowerCase();\n    for(var i=0; i<line.length;i++){\n        if(!validCharacters.includes(\"\"+line.charAt(i))){\n            line = line.substring(0,i)+\"#\"+line.substring(i+1);\n        }\n    }\n\n    line = line.replace(/#/g,\"\");\n    return line;\n}\n\n\n\nlet model = {\"  \":-3.2910629924454486,\"c \":-3.8668737299247438,\"aa\":-8.569137312930899,\"ab\":-3.9369332597631863,\"ac\":-3.220670162697391,\"ad\":-3.0482479869676102,\"ae\":-6.052279063336297,\"af\":-4.69956099775001,\"ag\":-3.9941585968087816,\"ah\":-6.710407217596661,\"ai\":-3.2453041060602184,\"aj\":-7.060740255010108,\"ak\":-4.512283359624297,\"al\":-2.4997201529644935,\"am\":-3.642636781640966,\"an\":-1.5707462805725019,\"ao\":-7.978468801653891,\"ap\":-3.8936418102220776,\"aq\":-9.821900281426267,\"ar\":-2.3025283782801376,\"as\":-2.348366425382398,\"at\":-1.9448651421947813,\"au\":-4.539158126663701,\"av\":-3.871849760115083,\"aw\":-4.706359120463831,\"ax\":-6.560313338465017,\"ay\":-3.649725323207633,\"az\":-6.641954302926283,\"d \":-0.5394468422260206,\"ba\":-2.5528619980785,\"bb\":-5.139226208055755,\"bc\":-6.049719822245583,\" a\":-2.154456318300654,\"bd\":-6.219404795035026,\" b\":-3.132028909232904,\"be\":-1.173596307609444,\" c\":-3.204240273221435,\"bf\":-8.563954087128105,\" d\":-3.554775966080049,\"bg\":-8.805116143944993,\" e\":-3.8320798875631166,\"bh\":-8.494961215641153,\" f\":-3.2625149066892174,\"bi\":-3.3328454702735173,\" g\":-4.1318426237305275,\"bj\":-5.004532700251055,\" h\":-2.7847122791384975,\"bk\":-8.805116143944993,\" i\":-2.7534204117779435,\"bl\":-2.139085063222716,\" j\":-5.68607428491371,\"bm\":-6.121607051758899,\" k\":-5.271518205104294,\"bn\":-6.808562262070924,\" l\":-3.779792629468334,\"bo\":-2.1459387811703974,\" m\":-3.352468498262208,\"bp\":-8.312639658847198,\" n\":-3.8123859357235683,\"bq\":-8.900426323749317,\" o\":-2.644532475328425,\"br\":-2.719375008855968,\" p\":-3.3676057306367433,\"bs\":-3.788438535392774,\" q\":-6.237872536056438,\"bt\":-4.703224376087508,\" r\":-3.6809218434868227,\"bu\":-2.137350056136624,\" s\":-2.7030074975159986,\"bv\":-6.320209494156992,\" t\":-1.86142386740762,\"bw\":-7.676650892127201,\" u\":-4.4723885304095425,\"bx\":-8.900426323749317,\" v\":-4.918696830481552,\"by\":-2.3611294272462486,\" w\":-2.8042850405884527,\"bz\":-8.900426323749317,\" x\":-7.783949528282384,\" y\":-4.702039558487341,\" z\":-8.486442571260568,\"e \":-1.1291364595675442,\"ca\":-2.08946313988477,\"cb\":-9.398284978640158,\"cc\":-3.8466182187208457,\"cd\":-7.678499009037193,\"ce\":-1.7391136109740999,\"cf\":-8.792149175069843,\"cg\":-9.580606535434113,\"ch\":-1.9093388132314668,\"ci\":-2.9331775988939013,\"cj\":-9.485296355629789,\"ck\":-3.343650033348159,\"cl\":-3.276523430584318,\"cm\":-8.515895798441685,\"cn\":-8.838669190704735,\"co\":-1.6000355228278762,\"cp\":-9.485296355629789,\"cq\":-6.386023403134956,\"cr\":-3.377666241879603,\"cs\":-5.838186314392146,\"ct\":-2.3909106346293085,\"cu\":-3.2184408726543063,\"cv\":-9.485296355629789,\"cw\":-8.838669190704735,\"cx\":-9.580606535434113,\"cy\":-4.621264535725407,\"cz\":-8.299672689972049,\"f \":-0.9976707550554195,\"da\":-3.7200475908408235,\"db\":-7.418434550575756,\"dc\":-7.88681348409449,\"dd\":-4.564865474086475,\"de\":-1.9699465394791131,\"df\":-6.796896902393934,\"dg\":-5.430448837645974,\"dh\":-6.754155354016663,\"di\":-2.4627220077183942,\"dj\":-6.277375571660389,\"dk\":-7.666270714480338,\"dl\":-4.558326450319418,\"dm\":-5.5188785108919935,\"dn\":-5.946484744877372,\"do\":-3.117009722931763,\"dp\":-8.380471304238116,\"dq\":-8.136274343726074,\"dr\":-3.6243165394601604,\"ds\":-3.6811521539816408,\"dt\":-7.1936663035345445,\"du\":-3.9941983786827824,\"dv\":-5.568764165402863,\"dw\":-7.077327311450395,\"dx\":-9.928033812954128,\"dy\":-4.613843097249801,\"dz\":-9.745712256160173,\"g \":-1.0302198528344138,\"ea\":-3.0956911156796725,\"eb\":-6.3279563530093395,\"ec\":-3.711394117529345,\"ed\":-2.414309096615009,\"ee\":-3.7280101535107066,\"ef\":-4.555095809949321,\"eg\":-4.9582369569836615,\"eh\":-6.340824177620733,\"ei\":-4.465115884463944,\"ej\":-8.043262266521952,\"ek\":-7.012917948982845,\"el\":-3.4395652463282116,\"em\":-3.7489856294972617,\"en\":-2.389153595060143,\"eo\":-5.281198278652138,\"ep\":-4.426598784036354,\"eq\":-6.265131628349503,\"er\":-1.976271246918681,\"es\":-2.519225987547763,\"et\":-3.7331106440131854,\"eu\":-6.05129367580717,\"ev\":-4.115226028040922,\"ew\":-4.719249301196115,\"ex\":-4.451178867151557,\"ey\":-4.535588241035776,\"ez\":-7.731754615658102,\"h \":-2.3623088007577695,\"fa\":-2.7634422911455703,\"fb\":-7.9114774546442685,\"fc\":-7.529542843946299,\"fd\":-8.494623739989885,\"fe\":-2.451100566435661,\"ff\":-2.926120215794328,\"fg\":-7.612234559791412,\"fh\":-8.53718335440868,\"fi\":-2.4505074466080714,\"fj\":-9.033620240722573,\"fk\":-8.72823859117139,\"fl\":-3.748243385450271,\"fm\":-8.839464226281615,\"fn\":-7.66534438510536,\"fo\":-1.9043799278633868,\"fp\":-8.305381740351358,\"fq\":-9.370092477343785,\"fr\":-2.3558173549839756,\"fs\":-5.929674382528349,\"ft\":-3.315653131074415,\"fu\":-3.5058932812816797,\"fv\":-9.370092477343785,\"fw\":-7.801476559429941,\"fx\":-9.370092477343785,\"fy\":-6.135343303319295,\"fz\":-9.370092477343785,\"i \":-3.788398987959084,\"ga\":-2.681117318742622,\"gb\":-8.560252680876685,\"gc\":-8.083328608786376,\"gd\":-6.8862762473050125,\"ge\":-1.9631827738890724,\"gf\":-7.924263914156688,\"gg\":-4.61975020412667,\"gh\":-2.2213641819441556,\"gi\":-2.8612966495974126,\"gj\":-9.148039345778804,\"gk\":-8.560252680876685,\"gl\":-3.35807917488155,\"gm\":-6.075346031088684,\"gn\":-3.7399711152716475,\"go\":-2.831958278425978,\"gp\":-7.954116877306369,\"gq\":-9.052729165974478,\"gr\":-2.5526687518888194,\"gs\":-4.062915199691808,\"gt\":-4.943346726387837,\"gu\":-3.494498087559349,\"gv\":-9.148039345778804,\"gw\":-7.579423427864958,\"gx\":-9.148039345778804,\"gy\":-5.882279935011752,\"gz\":-8.617411094716633,\"j \":-4.859215923580492,\"ha\":-1.8949866865832032,\"hb\":-7.38720654177459,\"hc\":-8.05310407988716,\"hd\":-7.542278456121169,\"he\":-0.7286353651447546,\"hf\":-7.858315754328075,\"hg\":-9.589971299486425,\"hh\":-8.779041083270096,\"hi\":-1.9951372153459488,\"hj\":-10.100796923252416,\"hk\":-7.885223207247999,\"hl\":-6.635061020452689,\"hm\":-6.261344610659105,\"hn\":-6.705170586639715,\"ho\":-2.5617698674284206,\"hp\":-9.253499062865211,\"hq\":-10.100796923252416,\"hr\":-4.5720294302077304,\"hs\":-6.222675469499951,\"ht\":-3.764561336708525,\"hu\":-4.622243506401445,\"hv\":-9.541181135316993,\"hw\":-7.3816968859636205,\"hx\":-10.28311848004637,\"hy\":-5.024581983510178,\"hz\":-10.187808300242045,\"k \":-1.4288566755523215,\"ia\":-3.712244886548001,\"ib\":-4.717475282130211,\"ic\":-2.783984370515817,\"id\":-3.2216013768067646,\"ie\":-3.1683365236496233,\"if\":-3.90382545586124,\"ig\":-3.680790547058952,\"ih\":-9.119304544100272,\"ii\":-6.422989599216483,\"ij\":-10.323277348426208,\"ik\":-5.240838322200969,\"il\":-3.0795261367137394,\"im\":-3.173687619686372,\"in\":-1.3126793991869439,\"io\":-2.664381175855551,\"ip\":-4.9236074876178835,\"iq\":-7.895529112478156,\"ir\":-3.409705684122631,\"is\":-2.051579832828198,\"it\":-2.1011937452905483,\"iu\":-6.511074678280273,\"iv\":-3.8167461832949807,\"iw\":-9.672689782285058,\"ix\":-6.168308164387673,\"iy\":-10.410288725415837,\"iz\":-5.511770729440288,\"l \":-2.0434097729831913,\"ja\":-2.3427609160575655,\"jb\":-6.1024094410597085,\"jc\":-6.037870919922137,\"jd\":-6.507874549167873,\"je\":-1.4153520955994334,\"jf\":-6.245510284700382,\"jg\":-6.17140231254666,\"jh\":-6.325552992373918,\"ji\":-5.51462277615759,\"jj\":-6.507874549167873,\"jk\":-6.245510284700382,\"jl\":-6.412564369363548,\"jm\":-6.325552992373918,\"jn\":-6.507874549167873,\"jo\":-1.2783714986201964,\"jp\":-6.412564369363548,\"jq\":-6.325552992373918,\"jr\":-6.1024094410597085,\"js\":-6.1024094410597085,\"jt\":-6.245510284700382,\"ju\":-1.1002544477293865,\"jv\":-6.507874549167873,\"jw\":-6.245510284700382,\"jx\":-6.507874549167873,\"jy\":-6.507874549167873,\"jz\":-6.507874549167873,\"m \":-1.8968318511898539,\"ka\":-3.6194933584945135,\"kb\":-7.047703539402737,\"kc\":-6.062419936041631,\"kd\":-7.671857848475732,\"ke\":-1.2114318817004575,\"kf\":-6.285563487355841,\"kg\":-6.824559988088527,\"kh\":-3.6311485020862624,\"ki\":-1.7851984157338754,\"kj\":-7.814958692116405,\"kk\":-7.489536291681777,\"kl\":-3.88766821455747,\"km\":-6.036102627724257,\"kn\":-2.3543916630889337,\"ko\":-3.8417682258102714,\"kp\":-7.546694705521725,\"kq\":-7.9820127767795706,\"kr\":-5.48206824962703,\"ks\":-3.0008999219496366,\"kt\":-6.6910285954640045,\"ku\":-3.73872587983735,\"kv\":-7.2444138336487915,\"kw\":-5.438265626968637,\"kx\":-8.077322956583895,\"ky\":-4.682814563072537,\"kz\":-8.077322956583895,\"n \":-1.4656789800236865,\"la\":-2.269183388314388,\"lb\":-6.573297799694782,\"lc\":-5.745479365449931,\"ld\":-2.8596367214634224,\"le\":-1.7841347050080587,\"lf\":-4.144047900909572,\"lg\":-6.844091654118041,\"lh\":-7.7437746495925355,\"li\":-2.175115871017978,\"lj\":-9.701519256294851,\"lk\":-4.956587127931601,\"ll\":-2.065933606191924,\"lm\":-5.060338632783727,\"ln\":-6.492693767280152,\"lo\":-2.4508837443961715,\"lp\":-5.604400767190025,\"lq\":-9.701519256294851,\"lr\":-5.648286082315182,\"ls\":-3.879460040714278,\"lt\":-3.864517937852428,\"lu\":-3.8209862698941515,\"lv\":-5.091361528795721,\"lw\":-5.466205750947557,\"lx\":-9.883840813088806,\"ly\":-2.333600268348952,\"lz\":-8.602906967626742,\"o \":-2.2129736790077486,\"ma\":-1.7539942375247688,\"mb\":-3.6841198980845076,\"mc\":-6.559311098803656,\"md\":-8.439623965373157,\"me\":-1.3654444296574595,\"mf\":-6.4075846625879045,\"mg\":-9.337565558579115,\"mh\":-8.238953269911006,\"mi\":-2.4389427631602505,\"mj\":-9.17051147391595,\"mk\":-8.902247487321269,\"ml\":-6.206031743866062,\"mm\":-3.641082386404525,\"mn\":-5.662416297277081,\"mo\":-2.2280575251437695,\"mp\":-2.6972144960398214,\"mq\":-9.432875738383439,\"mr\":-5.501050105659114,\"ms\":-3.5381974599631496,\"mt\":-6.907147094075184,\"mu\":-3.4685254837670296,\"mv\":-9.250554181589486,\"mw\":-8.071899185247839,\"mx\":-9.432875738383439,\"my\":-3.424799925470261,\"mz\":-9.432875738383439,\"p \":-2.9363486388485507,\"na\":-3.41157713428474,\"nb\":-6.728285208389976,\"nc\":-3.0909427430720093,\"nd\":-1.740264825689735,\"ne\":-2.5015190512398306,\"nf\":-4.817371901371758,\"ng\":-2.113210530516431,\"nh\":-6.807749379744223,\"ni\":-3.295792549094097,\"nj\":-6.252798951069294,\"nk\":-4.917797884336954,\"nl\":-4.632769841879079,\"nm\":-5.98877585293416,\"nn\":-4.66665175664129,\"no\":-2.876759518067293,\"np\":-7.603753945743875,\"nq\":-6.864465609186075,\"nr\":-7.187239001449126,\"ns\":-3.052336215755031,\"nt\":-2.2647479268985964,\"nu\":-4.9001580949910455,\"nv\":-5.348959516586179,\"nw\":-7.14773655847288,\"nx\":-7.454376544669275,\"ny\":-4.546351845156791,\"nz\":-8.807726750069811,\"q \":-5.540437610773254,\"oa\":-5.082241389138844,\"ob\":-5.142393631993602,\"oc\":-4.276598353328924,\"od\":-4.085216817689867,\"oe\":-5.759968385010914,\"of\":-2.174773615995364,\"og\":-5.288621572218711,\"oh\":-6.090174110360315,\"oi\":-4.4715723308194235,\"oj\":-6.90687468303798,\"ok\":-4.432658655412265,\"ol\":-3.2277431063139637,\"om\":-2.8212923556513845,\"on\":-1.7681088393713913,\"oo\":-3.5156224239092224,\"op\":-3.9518016568316168,\"oq\":-8.986316224717816,\"or\":-2.1664590794141954,\"os\":-3.3712131841519417,\"ot\":-3.1224483347145418,\"ou\":-2.2101893882141153,\"ov\":-3.5450716407123704,\"ow\":-3.1404797504673136,\"ox\":-6.663111844521034,\"oy\":-5.51344438505264,\"oz\":-7.704225641127928,\"r \":-1.7281348556024396,\"pa\":-2.136265349667144,\"pb\":-7.648749930275526,\"pc\":-6.522163789565011,\"pd\":-8.503165258431594,\"pe\":-1.734614577170007,\"pf\":-6.50168525822147,\"pg\":-7.785325465281278,\"ph\":-3.642577960578998,\"pi\":-2.654272848600284,\"pj\":-8.454375094262163,\"pk\":-7.861311372259199,\"pl\":-2.3851781986138283,\"pm\":-6.363099094935324,\"pn\":-7.294204912594619,\"po\":-2.116201767527298,\"pp\":-2.7907534570773387,\"pq\":-9.196312438991539,\"pr\":-1.7868731941606955,\"ps\":-3.8487288311405847,\"pt\":-3.2942257030347744,\"pu\":-3.1971277688684197,\"pv\":-9.196312438991539,\"pw\":-7.0800569241889875,\"px\":-9.196312438991539,\"py\":-4.987152202340858,\"pz\":-9.196312438991539,\"s \":-0.9911300598753203,\"qa\":-6.182291496945648,\"qb\":-6.182291496945648,\"qc\":-6.182291496945648,\"qd\":-6.182291496945648,\"qe\":-6.182291496945648,\"qf\":-6.182291496945648,\"qg\":-6.182291496945648,\"qh\":-6.182291496945648,\"qi\":-6.182291496945648,\"qj\":-6.182291496945648,\"qk\":-6.182291496945648,\"ql\":-6.182291496945648,\"qm\":-6.182291496945648,\"qn\":-6.182291496945648,\"qo\":-6.182291496945648,\"qp\":-6.182291496945648,\"qq\":-6.182291496945648,\"qr\":-6.182291496945648,\"qs\":-6.182291496945648,\"qt\":-6.182291496945648,\"qu\":-0.057170565024993084,\"qv\":-6.182291496945648,\"qw\":-6.182291496945648,\"qx\":-6.182291496945648,\"qy\":-6.182291496945648,\"qz\":-6.182291496945648,\"t \":-1.5835253210583506,\"ra\":-2.5722807952437394,\"rb\":-5.99205725679638,\"rc\":-4.319316764551239,\"rd\":-3.7284294070555273,\"re\":-1.4225483817556492,\"rf\":-5.357231686671419,\"rg\":-4.331760927128789,\"rh\":-6.033757985995324,\"ri\":-2.364541745819138,\"rj\":-9.405183209323809,\"rk\":-4.850464566831816,\"rl\":-4.673556599383159,\"rm\":-3.74500437214974,\"rn\":-3.916576116332641,\"ro\":-2.322164557359624,\"rp\":-5.413979406021222,\"rq\":-9.0405400957359,\"rr\":-3.636862213530037,\"rs\":-2.9016138569514562,\"rt\":-3.2345687965875074,\"ru\":-3.9816438780223904,\"rv\":-4.905818082232694,\"rw\":-6.257588586460572,\"rx\":-10.13915238440401,\"ry\":-3.2585970253485272,\"rz\":-8.070182142591468,\"u \":-3.2700350935700784,\"sa\":-3.2090119684802527,\"sb\":-6.334899523154303,\"sc\":-4.093299064417374,\"sd\":-7.59203503906228,\"se\":-2.1586345703035548,\"sf\":-6.182995193953419,\"sg\":-7.849503332917564,\"sh\":-2.915257814589145,\"si\":-2.7754710419906368,\"sj\":-9.550291023939893,\"sk\":-4.551024457450397,\"sl\":-4.707131510786311,\"sm\":-4.589272322367449,\"sn\":-6.243245073400844,\"so\":-2.968928515714967,\"sp\":-3.853927304671137,\"sq\":-7.00903143760076,\"sr\":-8.243133983378726,\"ss\":-2.8108514947509753,\"st\":-2.1177557637833035,\"su\":-3.256550330868065,\"sv\":-7.865503674264006,\"sw\":-5.380597024476005,\"sx\":-10.383200146874996,\"sy\":-5.201416596582911,\"sz\":-9.913196517629261,\"v \":-3.1228109057348257,\"ta\":-3.1682706209020797,\"tb\":-8.217706195099385,\"tc\":-5.878899838671022,\"td\":-9.525219678366163,\"te\":-2.3388918749787213,\"tf\":-7.172402459885784,\"tg\":-8.478432457562638,\"th\":-1.1074718716074006,\"ti\":-2.3662341497302157,\"tj\":-10.456777882371107,\"tk\":-9.689522729657439,\"tl\":-4.418539855249544,\"tm\":-6.032391973858083,\"tn\":-7.21960886445558,\"to\":-2.3367153961191565,\"tp\":-8.16191483547097,\"tq\":-10.719142146838596,\"tr\":-3.4624215669877803,\"ts\":-3.6797447588047447,\"tt\":-4.0251990917417855,\"tu\":-3.9002180815630756,\"tv\":-9.555991337032916,\"tw\":-5.18259559155831,\"tx\":-10.131355481936478,\"ty\":-4.204725796166784,\"tz\":-7.984774637419013,\"w \":-2.172728230713227,\"ua\":-3.6907063474960813,\"ub\":-3.7341336409281,\"uc\":-3.2454721262149633,\"ud\":-4.020608712629845,\"ue\":-3.281297978688059,\"uf\":-5.0172437658127595,\"ug\":-3.1933271849501734,\"uh\":-7.7963898885987,\"ui\":-3.73111886626001,\"uj\":-9.35453450664525,\"uk\":-6.208229374611885,\"ul\":-2.257675168572427,\"um\":-3.4112977818505237,\"un\":-2.089862646254399,\"uo\":-6.096437968623768,\"up\":-3.100705695069777,\"uq\":-8.949069398537086,\"ur\":-1.905375903432984,\"us\":-1.9722545836234537,\"ut\":-1.9648676140617645,\"uu\":-9.274491798971713,\"uv\":-6.7831953510849425,\"uw\":-9.35453450664525,\"ux\":-7.31765257938421,\"uy\":-7.3735330377786665,\"uz\":-5.267158613739243,\"x \":-2.5557039896270073,\"va\":-2.4677551327310105,\"vb\":-8.46601472297182,\"vc\":-8.561324902776146,\"vd\":-7.868177722216201,\"ve\":-0.5192363285514866,\"vf\":-8.561324902776146,\"vg\":-8.298960638308655,\"vh\":-8.46601472297182,\"vi\":-1.7429474349452256,\"vj\":-8.46601472297182,\"vk\":-7.919471016603751,\"vl\":-5.443374996497906,\"vm\":-8.561324902776146,\"vn\":-4.566800675836256,\"vo\":-2.7892609207035393,\"vp\":-8.561324902776146,\"vq\":-8.561324902776146,\"vr\":-6.268790145635601,\"vs\":-4.407140340198028,\"vt\":-7.973538237874027,\"vu\":-6.289199017266808,\"vv\":-8.379003345982191,\"vw\":-8.030696651713976,\"vx\":-8.46601472297182,\"vy\":-5.258107929474194,\"vz\":-8.561324902776146,\"y \":-0.3817890191036424,\"wa\":-1.596798460957614,\"wb\":-7.6001421705956735,\"wc\":-7.640964165115928,\"wd\":-5.344648685135478,\"we\":-1.8921021056868312,\"wf\":-6.839336341561913,\"wg\":-8.110967794361665,\"wh\":-1.6228272590921338,\"wi\":-1.7628783045649916,\"wj\":-8.87310784640856,\"wk\":-7.001305669506969,\"wl\":-5.467159861987808,\"wm\":-8.179960665848615,\"wn\":-3.2183655671770013,\"wo\":-2.524218636471301,\"wp\":-8.293289351155618,\"wq\":-9.209580083029774,\"wr\":-4.57000847032435,\"ws\":-4.2425484264156506,\"wt\":-5.65423202154036,\"wu\":-7.560921457442392,\"wv\":-9.209580083029774,\"ww\":-7.307472556632853,\"wx\":-9.209580083029774,\"wy\":-6.877436187794184,\"wz\":-9.02725852623582,\"z \":-3.1699327078256037,\"xa\":-2.254780968033424,\"xb\":-6.898209866138606,\"xc\":-2.027603216646053,\"xd\":-6.492744758030441,\"xe\":-2.462642464536694,\"xf\":-5.833499129146177,\"xg\":-6.898209866138606,\"xh\":-4.310445830910898,\"xi\":-2.0731012597852527,\"xj\":-6.898209866138606,\"xk\":-6.898209866138606,\"xl\":-6.42820623689287,\"xm\":-6.715888309344651,\"xn\":-6.898209866138606,\"xo\":-4.4558628307694015,\"xp\":-1.4955324842663262,\"xq\":-6.3675816150764355,\"xr\":-4.636446767664815,\"xs\":-5.766807754647505,\"xt\":-1.8703897472882491,\"xu\":-4.37248122183035,\"xv\":-4.348764695213034,\"xw\":-6.802899686334281,\"xx\":-4.473407140420311,\"xy\":-5.175443268397502,\"xz\":-6.898209866138606,\"ya\":-3.872874353532438,\"yb\":-6.07983833755968,\"yc\":-5.605956228985375,\"yd\":-6.1495716755743555,\"ye\":-2.9181087352006836,\"yf\":-5.833140189836589,\"yg\":-6.998723104610883,\"yh\":-7.317176835729417,\"yi\":-3.8266394412494407,\"yj\":-8.857621876676566,\"yk\":-7.45070822835394,\"yl\":-4.745382824577915,\"ym\":-4.447858487031085,\"yn\":-5.448125692199715,\"yo\":-2.2255103117197566,\"yp\":-4.737230605516364,\"yq\":-9.03994343347052,\"yr\":-5.751541545953709,\"ys\":-3.132676045163294,\"yt\":-4.230201081753655,\"yu\":-7.038463433260397,\"yv\":-7.65364907235063,\"yw\":-6.230540738108023,\"yx\":-7.70494236673818,\"yy\":-8.16447469611662,\"yz\":-7.731610613820342,\"za\":-2.531179599331457,\"zb\":-6.00314605188182,\"zc\":-5.907835872077495,\"zd\":-4.694813232231641,\"ze\":-0.9292230185496455,\"zf\":-5.907835872077495,\"zg\":-6.00314605188182,\"zh\":-3.199785670975285,\"zi\":-2.3395844057521735,\"zj\":-6.00314605188182,\"zk\":-5.666673815260607,\"zl\":-3.886890537079268,\"zm\":-4.0016660516716955,\"zn\":-5.009894278871537,\"zo\":-1.7362497244615696,\"zp\":-6.00314605188182,\"zq\":-6.00314605188182,\"zr\":-6.00314605188182,\"zs\":-5.820824495087865,\"zt\":-5.907835872077495,\"zu\":-3.1183453390351104,\"zv\":-5.666673815260607,\"zw\":-5.907835872077495,\"zx\":-6.00314605188182,\"zy\":-4.568061526592497,\"zz\":-3.7731316517226094,\"a \":-2.7134701747591117,\"b \":-4.738423113053401}\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport Feature from \"./ReadOnlyFeature\"\n\nimport logo from '../drone.png';\n\nimport {isGibberish} from \"../utils.js\"\n\nimport {theme} from \"../colorTheme\"\n\nimport {devices} from \"../devices\";\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  display:flex;\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  border: solid 2px ${theme.primaryColor};\n  transition: transform .8s;\n  height:80vh;\n  width:80vw;\n  &:hover{\n    transform: scale(1.02);\n  }\n   margin:1vh;\n\n   @media ${devices.mobile} {\n    flex-direction:column;\n    height:auto;\n    width:70vw;\n    margin:3vw auto;\n  }\n`;\n\nconst DroneImage = styled.img`\n  height: 30vw;\n  width: 30vw;\n  max-height:85vh;\n  max-width:85vh;\n  margin: auto;\n  margin-left:2vw\n\n  @media ${devices.mobile} {\n    height:65vw;\n    width:65vw;\n    max-height:75vh;\n    max-width:75vh;\n    margin-top:2vh;\n  }\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nheight: 25vw;\n  width: 25vw;\n  max-height:85vh;\n  max-width:85vh;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\nmargin:auto;\n`;\n\nconst DroneName = styled.h2`\nfont-size: 2.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:center;\n\n  @media ${devices.mobile} {\n    font-size: 5vw;\n  }\n`;\n\nconst StoryWrapper = styled.div`\nwidth: 40vw;\noverflow:scroll;\n\n@media ${devices.mobile} {\n  height:auto;\n  width:70vw;\n  max-height:75vh;\n  max-width:75vh;\n  margin:auto;\n\n\n}\n`;\n\nconst MainStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  height:auto;\n  margin-top:2vh;\n  width: 35vw;\n  border-radius:1vw;\n   border: solid 1px ${theme.primaryColor};\n   padding:2vw;\n\n   @media ${devices.mobile} {\n    width: 60vw;\n    margin:auto;\n    font-size: 3vw;\n    padding:1vw;\n  }\n`;\n\nconst SubStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  width:35vw;\n  background-color:#D9D9D9;\n  margin: 2vh 0;\n  border-radius: 1vw;\n  padding:1vw 2vw;\n\n  @media ${devices.mobile} {\n    width: 60vw;\n    margin:auto;\n    font-size: 3vw;\n    padding:1vw;\n  }\n`;\n\nconst WriteButton = styled.button`\nborder-radius:.8vw;\nborder: solid 2px #ffffff;\nbackground-color:${theme.secondaryColor};\nheight:3vw;\nmin-width:15vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\noverflow:scroll;\npadding:0.5vw;\nmargin: 2vh auto;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:#ffffff;\noutline:none;\n\n@media ${devices.mobile} {\n  width: auto;\n  height:auto;\n  max-height:none;\n  margin:2vw auto;\n  font-size: 5vw;\n  padding:2vw;\n}\n`;\n\nconst appear = keyframes`\n  from {\n      opacity: 0;\n      \n  }\n  to {\n      opacity: 1;\n      \n  }\n`\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  background-color: #D9D9D9;\n  border: solid 1px #BABABA;\n  margin: 5vh auto;\n  border-radius: 1vw;\n  animation: ${appear} 1s ease;\n\n  @media ${devices.mobile} {\n    width: 60vw;\n    margin:5vw auto;\n    font-size: 3vw;\n    padding:1vw;\n  }\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 1.3vw\nfont-family: \"Nunito\";\nfont-weight: 500\nwidth:35vw;\nheight: 30vh;\nbackground-color:#D9D9D9;\nresize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n\n  @media ${devices.mobile} {\n    \n    font-size: 3vw;\n\n  }\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n \n  font-family: \"Roboto\";\n  font-weight: 700;\n  padding:2vw;\n \n  text-align:center;\n\n  @media ${devices.mobile} {\n    \n    font-size: 3vw;\n\n  }\n`;\n\nconst AutoSave = styled.p`\nfont-size: 1vw\nfont-family: \"Nunito\";\nfont-weight: 500;\ntext-align:right;\nmargin-right:1vw;\ncolor:#008920\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst Dummy = styled.div``;\n\n\n\nconst STORY_PLACEHOLDER = \"Add your story\";\n\nconst STORY_PROMPT = \"Add your own story about this drone. Where does it fly? What does it do there and why?\"\n\nvar LEFT_FACTOR = 22;\nvar TOP_FACTOR = 11;\nvar LEFT_0 = 7.4;\nvar TOP_0 = 9.4;\n\nvar characterInputCount = 0;\n\nclass DroneStory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      small: !props.selected,\n      newSubStoryID: null,\n      storyZoom: false,\n      renderStoryInput: false,\n      droneStory: \"\",\n      newStories:{},\n      autoSave:\"\"\n    };\n  }\n  componentDidMount() {\n    \n  }\n\n  componentDidUpdate() {\n    if(window.innerWidth < 800){\n      LEFT_FACTOR = 60;\n      TOP_FACTOR = 28;\n      LEFT_0 = 7.2;\n      TOP_0 = 9.6;\n    }\n    if (this.state.renderStoryInput) {\n      this.end.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }\n\n  componentWillReceiveProps() {\n    if(window.innerWidth < 800){\n      LEFT_FACTOR = 60;\n      TOP_FACTOR = 28;\n      LEFT_0 = 7.2;\n      TOP_0 = 9.6;\n    }\n    this.setState({ renderStoryInput: false, newSubStoryID: null, autoSave:\"≥\" })\n  }\n\n  render() {\n    if(window.innerWidth < 800){\n      LEFT_FACTOR = 60;\n      TOP_FACTOR = 28;\n      LEFT_0 = 7.2;\n      TOP_0 = 9.6;\n    }\n    return (\n      <div>\n        <DroneWrapper ref=\"wrapper\"\n          small={this.state.small}\n          onBlur={() => this.updateSubStory()}\n        >\n          <DroneImage\n            small={this.state.small} src={logo} alt=\"logo\" ></DroneImage>\n          <Overlay small={this.state.small}>\n            {this.props.drone.features.map((item, key) =>\n              <FixedFeatureWrapper\n                top={TOP_0 + TOP_FACTOR * (key - (key % 2)) / 2}\n                left={LEFT_0 + LEFT_FACTOR * (key % 2) / 2}\n              >\n                <Feature title={item.title} description={item.description} index={key}></Feature>\n              </FixedFeatureWrapper>\n            )}\n          </Overlay>\n          <StoryWrapper>\n            <DroneName>{this.props.drone.name}</DroneName>\n            <MainStory>{this.props.drone.mainStory ? this.props.drone.mainStory.text : \"\"}</MainStory>\n\n\n            {!this.state.renderStoryInput && <WriteButton onClick={() => { this.setState({ renderStoryInput: true }) }}>Add a story</WriteButton>}\n\n            {this.state.renderStoryInput && <StoryInputWrapper ref={(el) => { this.end = el; }}>\n              <StoryPrompt>{STORY_PROMPT}</StoryPrompt>\n              <StoryInput\n                placeholder={STORY_PLACEHOLDER}\n                onBlur={(ev) => { this.updateSubStory() }}\n                value={this.state.newStories[this.props.drone._id]}\n                onChange={(ev) => this.onDroneStoryChange(ev)}>\n              </StoryInput>\n              {/* <Arrow position={this.state.position}></Arrow> */}\n              <AutoSave>{this.state.autoSave}</AutoSave>\n            </StoryInputWrapper>}\n\n            <div >\n            </div>\n\n\n            {this.props.drone.subStories.map((item, key) =>\n              !item.isFlagged && item.text && !isGibberish(item.text,50) &&<SubStory>{item.text}</SubStory>\n            )}\n          </StoryWrapper>\n        </DroneWrapper>\n      </div>\n    )\n    return null;\n  }\n\n\n\n  onDroneStoryChange(ev) {\n\n    characterInputCount++;\n    this.setState({ droneStory: ev.target.value });\n    var newStories = this.state.newStories;\n    newStories[this.props.drone._id] = ev.target.value\n    this.setState({ newStories: newStories});\n    if(!ev.target.value){\n      this.setState({autoSave:\"\"})\n      this.updateSubStory();\n    }\n    if (characterInputCount > 10) {\n      characterInputCount = 0;\n      this.setState({autoSave:\"Auto Saving...\"})\n      this.updateSubStory();\n    }\n  }\n\n\n  updateSubStory() {\n    if (this.state.newStories[this.props.drone._id]) {\n      if (this.state.newSubStoryID != null) {\n        fetch('/stories/' + this.state.newSubStoryID,\n          {\n            method: 'PUT',\n            body: JSON.stringify({ text: this.state.droneStory }),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            this.setState({autoSave:\"Auto Saved\"})\n           }\n          );\n      } else {\n        this.createNewStory()\n      }\n    }\n  }\n\n  createNewStory() {\n    fetch('/stories/',\n      {\n        method: 'POST',\n        body: JSON.stringify({ text: this.state.droneStory }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        if (!data._id) {\n          return;\n        }\n        this.setState({ newSubStoryID: data._id });\n        var drone = this.props.drone;\n        if (!drone.subStories) {\n          drone.subStories = [data._id];\n        } else {\n          drone.subStories.push(data._id)\n        }\n        this.setState({autoSave:\"Auto Saved\"})\n        this.updateDrone(drone)\n      }\n      );\n  }\n\n  updateDrone(drone) {\n    fetch('/drones/' + drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n\n      }\n      );\n\n  }\n\n\n\n\n\n\n}\n\nexport default DroneStory;\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport logo from '../drone.png';\nimport {theme} from \"../colorTheme\";\nimport DroneStory from \"./DroneStory\";\nimport {devices} from \"../devices.js\"\n\n\n\n\n\nconst slide = keyframes`\n  from {\n      opacity: 0;\n      // transform: translateY(5vh);\n  }\n  to {\n      opacity: 1;\n      // transform: translateY(0);\n  }\n`\n\nconst StoryImage = styled.img`\n  max-height:60vh;\n  width: auto;\n  height: auto;\n  margin:auto;\n\n  @media ${devices.mobile} {\n    width:95vw;\n    height: auto;\n  }\n  \n\n`;\n\nconst StoryText = styled.h1`\n  font-size: 2.5vw\n  margin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n\n@media ${devices.mobile} {\n  font-size: 6vw\n  \n}\n\n`;\n\nconst StoryBoard = styled.div`\nheight:100vh\ndisplay:flex;\nflex-direction:column;\njustify-content:space-evenly;\nanimation: ${slide} 4s ease;\n\n@media ${devices.mobile} {\n  width:95vw;\n  margin:auto;\n  \n}\n`;\n\n\nconst StartButton = styled.button`\nborder-radius: 0.5vw;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\n// height:5vw;\n// max-height:5vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\npadding:1vw;\nbackground-color:${props => props.fill?theme.secondaryColor :'#ffffff'};\ncolor: ${props => props.fill? '#ffffff': theme.secondaryColor};\ndisplay:inline;\n\nfont-size: 1.5vw\nmargin: auto 1vw;\nmargin-bottom: 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\noutline:none;\n\n@media ${devices.mobile} {\n  display:block;\n  margin:4vw auto;\n  padding:2vw;\n  font-size: 4vw\n}\n\n`;\n\nconst SampleStory = styled.div`\nmax-height:60vh\ndisplay:flex;\njustify-content:space-evenly;\n\n@media ${devices.mobile} {\n  max-height:60vw\n  width:95vw;\n  margin:auto;\n  \n}\n`;\n\nconst SampleStoryContent = styled.div`\n// height:60vh\nwidth:40vw;\ndisplay:column;\nmargin:auto;\nmargin-top:10vh;\n// background-color:#D9D9D9;\npadding:2.5vw;\nborder: 3px solid #D9D9D9;\nborder-radius: 5% 10% 5% 4% / 2% ;\n\n@media ${devices.mobile} {\n  width:90vw;\n  margin-top:2vh;\n  margin:auto;\n  \n}\n`;\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst SampleStoryImage = styled.img`\n  \n  max-height:60vh;\n  width: auto;\n  height: auto;\n  margin:auto;\n`;\n\nconst SampleStoryText = styled.h1`\n  font-size: 1.9vw\n  margin: 1vh auto;\nfont-family: 'Caveat', cursive;\nfont-weight: 400;\ntext-align:left;\n\n@media ${devices.mobile} {\n  font-size: 5vw\n  margin:auto;\n}\n`;\n\nconst SampleStoryTile = styled.h1`\n  font-size: 2.5vw\n  margin: 1vh auto;\nfont-family: 'Caveat', cursive;\nfont-weight: 900;\n\n@media ${devices.mobile} {\n  font-size: 8vw\n  margin:auto;\n}\n`;\n\n\n\n\nconst Story = [\n  { text: \"This is a drone. It can fly as high as you want.\", imgSrc: require('../story1.jpg') },\n  { text: \"It can fly over trees, roads, or buildings...\", imgSrc: require('../story2.jpg') },\n  { text: \"You can control it from below.\", imgSrc: require('../story3.jpg') },\n  { text: \"You can add cool superpowers and turn it into your dream drone.\", imgSrc: require('../story4.jpg') }\n  // {text: \"And, you can tell us a story about your  dream drone.\", imgSrc: require('../story5.jpg') }\n\n];\n\nvar intervelRef = null;\n\nconst boards = [\n  <StoryBoard><StoryImage src={require('../story1.jpg')} alt=\"logo\" ></StoryImage><StoryText>{\"This is a drone. It can fly as high as you want.\"}</StoryText></StoryBoard>,\n  <StoryBoard><StoryImage src={require('../story2.jpg')} alt=\"logo\" ></StoryImage><StoryText>{\"It can fly over trees, roads, or buildings...\"}</StoryText></StoryBoard>,\n  <StoryBoard><StoryImage src={require('../story3.jpg')} alt=\"logo\" ></StoryImage><StoryText>{\"You can control it from below.\"}</StoryText></StoryBoard>,\n  <StoryBoard><StoryImage src={require('../story4.jpg')} alt=\"logo\" ></StoryImage><StoryText>{\"You can add cool superpowers and turn it into your dream drone...\"}</StoryText></StoryBoard>,\n  \n\n]\n\nvar boardDisplay = []\n\n\nexport default class StartView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      storyIndex: 0\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\"\n    this.setState({ storyIndex: 0 });\n    intervelRef = setInterval(this.runStorySequence, 5000)\n  }\n\n  componentDidUpdate() {\n    this.end.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  render() {\n\n    return (\n      <div ref=\"bottom\">\n        {boards.map((item, key) =>\n          this.state.storyIndex >= key && item\n        )}\n        {(this.state.storyIndex == boards.length  ) && \n          <StoryBoard>\n          <SampleStory>\n            {/* <SampleStoryImage src={require('../story5.jpg')} alt=\"logo\" ></SampleStoryImage> */}\n            <SampleStoryContent>\n              <SampleStoryTile>{\"Study Drone Bud\"}</SampleStoryTile>\n              <SampleStoryText>This drone is flown all over campus or office space. Its goal is to create the perfect environment for productivity. Have your office/study space be the perfect temperature. Ask it any question that you have and it will give you the right answer, it can also help you not get bored.\n        Its night vision is ideal to use when walking home from those long study sessions.</SampleStoryText>\n            </SampleStoryContent>\n          </SampleStory>\n          <StoryText>{\"and then, you can write a cool story about your dream drone!\"}</StoryText>\n          <div><StartButton fill={true} onClick={() => this.startClick()}>+ Create your own dream drone!</StartButton>\n          <StartButton onClick={() => this.props.history.push('/consent/view')}>View what others created</StartButton>\n          </div>\n          \n          </StoryBoard>\n        }\n        <div ref={(el) => { this.end = el; }}></div>\n      </div>\n    )\n    return null;\n  }\n\n  runStorySequence = () => {\n    var index = this.state.storyIndex;\n    if (index < boards.length) {\n      if(index <boards.length-1){\n        boardDisplay.push(boards[index])\n      }\n      index++;\n      this.setState({ storyIndex: index });\n\n    }\n    else (clearInterval(intervelRef))\n  }\n\n\n  startClick() {\n    this.props.history.push('/consent');\n\n    // fetch('/users/',\n    //   {\n    //     method: 'POST',\n    //     body: JSON.stringify({\n    //     }),\n    //     headers: {\n    //       'Accept': 'application/json, text/plain, */*',\n    //       'Content-Type': 'application/json',\n    //       'Mode': \"CORS\"\n    //     }\n    //   }).then(response => response.json())\n    //   .then(data => {\n    //     fetch('/drones/',\n    //       {\n    //         method: 'POST',\n    //         body: JSON.stringify({createdBy:data._id}),\n    //         headers: {\n    //           'Accept': 'application/json, text/plain, */*',\n    //           'Content-Type': 'application/json',\n    //           'Mode': \"CORS\"\n    //         }\n    //       }).then(response => response.json())\n    //       .then(data => {\n    //         console.log(data);\n    //         this.props.history.push('superpowers/' + data._id);\n    //       }\n    //       );\n\n    //   }\n    //   );\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature from \"./Feature\";\nimport StartView from \"./StartView\";\n\nconst Wrapper = styled.div`\n  margin: auto\n  width: 100%;\n  background-color:#f7f7f7;\n`;\n\nconst BlocksContainer = styled.div`\n  width: 80%;\n  margin: auto;\n`;\n\nconst Block = styled.div`\n  margin :auto;\n`;\n\nconst BlockName = styled.p`\n  margin:auto;\n`;\n\nconst BlockText = styled.textarea`\n  width:100%;\n  overflow: auto;\n  font-size: 10px;\n  height: 100px;\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\nconst Header = styled.h1`\n\n\n`;\n\nconst CreateBlockButton = styled.button`\n`;\n\nclass Root extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      blocks:[]\n    };\n  }\n\ncomponentDidMount() {\n\n}\n\n\nrender() {\n    return (\n      <div>\n        {/* <Header>My Dream Drone</Header> */}\n        <Wrapper>{this.renderMainContent()}</Wrapper>\n      </div>\n  )\n\n    return null;\n  }\n\n\nrenderMainContent(){\n  return(\n    \n      <StartView/>\n    \n  );\n}\n\n\n}\n\nexport default Root;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"./Button\";\n\nimport {theme} from \"../colorTheme\";\nimport {devices} from \"../devices.js\"\n\n\nconst Wrapper = styled.div`\n  border-radius:2.5vw;\n  border: solid 2px ${theme.secondaryColor};\n  width:18vw;\n  height:18vw;\n  max-height:18vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  padding:0.5vw;\n  background-color:#ffffff;\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n  box-shadow: 0.3vw 0.3vw ${theme.secondaryColor};\n\n  @media ${devices.mobile} {\n    width:50vw;\n    height:50vw;\n    max-height:50vw;\n  }\n`;\n\nconst Title = styled.textarea`\n  font-size: 1.2vw\n  margin: 0.2vw;\n  font-family: \"Nunito\";\n  font-weight: 700;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n\n  @media ${devices.mobile} {\n    margin: 2vw auto;\n    margin-bottom:0;\n    font-size: 4vw;\n  }\n`;\n\nconst Description = styled.textarea`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n  min-height:52%;\n\n  @media ${devices.mobile} {\n    font-size: 3vw;\n    text-align:center;\n    margin: 1vw auto;\n    width:95%;\n    min-height:40%;\n\n  }\n`;\n\nconst AddButton = styled.button`\nborder-radius:.8vw;\nborder: solid 1px ${props => props.disabled?'lightgrey':theme.secondaryColor};\nbackground-color:#ffffff;\ntransition: transform .3s;\ncursor: ${props => props.disabled?'not-allowed':'pointer'};\ntext-align: center;\nvertical-align: middle;\npadding:0.5vw 1vw;\n&:hover{\n  transform: scale(1.04);\n   background-color:${props => props.disabled?'#ffffff':theme.secondaryColor};\n  color:${props => props.disabled?'lightgrey':'#ffffff'};\n}\nfont-size: 1.2vw\nmargin:auto;\nmargin-bottom: 0vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${props => props.disabled?'lightgrey':theme.secondaryColor};\noutline:none;\n\n@media ${devices.mobile} {\n  font-size: 3vw;\n  margin: 1vw auto;\n  padding:2vw;\n\n}\n`;\n\nconst TITLE_PLACEHOLDER = \"Superpower Name\";\nconst DESCRIPTION_PLACEHOLDER = \"Breifly describe what this superpower is.\";\n\nclass NewFeature extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      titlePlaceholder: TITLE_PLACEHOLDER,\n      description: \"\",\n      descriptionPlaceholder: DESCRIPTION_PLACEHOLDER\n    };\n  }\n\n  saveNewFeature() {\n\n  }\n\n  render() {\n    return (\n      <Wrapper>\n        <Title\n          placeholder={this.state.titlePlaceholder}\n          onClick={(ev) => { this.setState({ titlePlaceholder: \"\" }) }}\n          onBlur={(ev) => { this.setState({ titlePlaceholder: TITLE_PLACEHOLDER }) }}\n          value={this.state.title}\n          onChange={(ev) => this.onTitleChange(ev)}\n          onKeyPress={(ev)=>this.onTitleKeyPress(ev)}>\n        </Title>\n\n        <Description\n          ref=\"description\"\n          placeholder={this.state.descriptionPlaceholder}\n          onClick={(ev) => { this.setState({ descriptionPlaceholder: \"\" }) }}\n          onBlur={(ev) => { this.setState({ descriptionPlaceholder: DESCRIPTION_PLACEHOLDER }) }}\n          value={this.state.description}\n          onChange={(ev) => this.onDescriptionChange(ev)}>\n        </Description>\n\n        {this.renderAddButton()}\n      </Wrapper>\n    )\n    return null;\n  }\n\n  onTitleChange(ev) {\n    this.setState({ title: ev.target.value });\n  }\n\n  onTitleKeyPress(ev){\n    if(ev.key === 'Enter') {\n      ev.preventDefault();\n      this.refs.description.focus();\n    }\n  }\n\n  onDescriptionChange(ev) {\n    this.setState({ description: ev.target.value });\n  }\n\n  renderAddButton() {\n    if (this.state.title.length > 0 && this.state.description.length > 0) {\n      return <AddButton disabled={false}onClick={() => this.handleAddClick()}>Add to drone</AddButton>\n    }\n    return <AddButton disabled={true}>Add to drone</AddButton>\n  }\n\n  handleAddClick() {\n    fetch('/features/',\n      {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        this.props.clickHandler(data);\n        this.clear();\n      }\n      );\n  }\n\n  clear() {\n    this.setState({ title: \"\", description: \"\" })\n  }\n}\n\nexport default NewFeature;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport {theme} from \"../colorTheme\";\nimport {devices} from \"../devices.js\"\n\n\n\nconst DotWrapper = styled.div`\n  width: 15vw;\n  height: 2vw;\n  margin:50vh auto;\n  display:flex;\n  justify-content:space-around;\n\n  @media ${devices.mobile} {\n    width: 30vw;\n    height: 3vw;\n  }\n`;\n\nconst Dot = styled.div`\n  width:${props => props.selected ? 1.1 : 1}vw;\n  height:${props => props.selected ? 1.1 : 1}vw;\n  background-color:${props => props.selected ? theme.primaryColor : '#DCDCDC'};\n  border-radius:5vw;\n\n  @media ${devices.mobile} {\n    width:${props => props.selected ? 2.2 : 2}vw;\n    height:${props => props.selected ? 2.2 : 2}vw;\n  }\n`;\n\n\n\n\nvar intervelRef;\nconst DOT_COUNT = 5;\n\n\nexport default class LoadingWidget extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      index: 0\n    };\n  }\n\n\n  componentDidMount() {\n    this.setState({ index: 0 });\n    intervelRef = setInterval(this.runLoadingWidgetSequence, 400)\n  }\n  \n  runLoadingWidgetSequence = () => {\n    var index = this.state.index;\n    index++;\n    if (index > DOT_COUNT) {\n      index = 0;\n    }\n    this.setState({ index: index });\n    //else (clearInterval(intervelRef))\n  }\n\n  render() {\n    return (\n\n        <DotWrapper>\n          {this.renderLoadingWidgetDots()}\n        </DotWrapper>\n\n    )\n    return null;\n  }\n\n  renderLoadingWidgetDots() {\n    let dots = []\n    let selected = false;\n    let index = this.state.index;\n    for (let i = 0; i < DOT_COUNT; i++) {\n      selected = i == index;\n      dots.push(<Dot selected={selected}></Dot>)\n    }\n    return dots;\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"./Feature\";\nimport NewFeature from \"./NewFeature\";\nimport LoadingWidget from \"./LoadingWidget\";\nimport {isGibberish} from \"../utils.js\"\nimport {devices} from \"../devices.js\"\n\n\n import {theme} from \"../colorTheme\";\nimport logo from '../drone.png';\n\nconst Wrapper = styled.div`\n  width:100%;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height: 6vh;\n  background-color: ${theme.primaryColor};\n  display:flex;\n  justify-content:space-around;\n\n  @media ${devices.mobile} {\n    height: auto;\n  }\n\n  \n`;\n\nconst HeaderText = styled.h2`\nfont-size:3vh;\nwidth:80vw;\ntext-align:left;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor:#ffffff;\nmargin:auto 5vw;\nletter-spacing: 0.1px\n\n@media ${devices.mobile} {\n  font-size:4vw;\n  width:60vw;\n  text-align:left;\n  font-family: 'Nunito';\n  font-weight:700;\n  color:#ffffff;\n  margin:1vw;\n  letter-spacing: 0.1px\n  padding:2vw;\n}\n`;\n\nconst ContentWrapper = styled.div`\n  margin:auto 2vw;\n  position:relative;\n  display:flex\n  justify-content:space-around;\n  height: 92vh;\n\n  @media ${devices.mobile} {\n    flex-direction:column;\n    height:auto;\n  }\n\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  margin:auto;\n`;\n\nconst DroneImage = styled.img`\n  height:40vw;\n  width:40vw;\n  max-height:85vh;\n  max-width:85vh;\n\n  @media ${devices.mobile} {\n    height:80vw;\n    width:80vw;\n    max-height:75vh;\n    max-width:75vh;\n    margin-top:2vh;\n  }\n\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nmax-height:50vh;\nmax-width:30vh;\nbackground-color:yellow;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\n`;\n\n\nconst RowWrapper = styled.div`\n  display:flex\n  justify-content:space-around;\n  flex-direction:column;\n\n  @media ${devices.mobile} {\n    margin:auto;\n  }\n\n`;\n\nconst Row = styled.div`\n  width:50vw;\n\n  @media ${devices.mobile} {\n    width:95vw;\n  }\n\n`;\n\nconst RowHeader = styled.h3`\nfont-size: 1.5vw\nfont-family: 'Nunito';\nfont-weight:700;\ncolor: ${theme.primaryColor};\n\n@media ${devices.mobile} {\n  padding-top:4vw;\n  font-size: 5vw;\n}\n\n`;\n\nconst CircleButton = styled.button`\nborder-radius:100%;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\nwidth:3vw;\nheight:3vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\nbackground-color:${theme.secondaryColor};\ncolor:#ffffff;\n&:hover{\n  transform:scale(1.1);\n\n}\nfont-size: 1.2vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\noutline:none;\nmargin:auto 0.2vw;\n\n@media ${devices.mobile} {\n  width:8vw;\n  height:8vw;\n  max-height:8vw;\n  font-size: 5vw\n}\n\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n\n@media ${devices.mobile} {\n  width:20vw;;\n  height:auto;\n  max-height:10vw;\n  font-size: 4vw\n  \n}\n\n`;\n\n\nconst FeatureSet = styled.div`\n  width:50vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n  \n  @media ${devices.mobile} {\n    margin:auto;\n    width:90vw;\n  }\n`;\n\nconst OverlayFeatureSet = styled.div`\n  width:25vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst FeatureWrapper = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst DotWrapper = styled.div`\n  width: 10vw;\n  height: 2vw;\n  margin: auto;\n  display:flex;\n  justify-content:space-around;\n\n  @media ${devices.mobile} {\n    width: 20vw;\n    height: 3vw;\n  }\n`;\n\nconst Dot = styled.div`\n  width:1vw;\n  height:1vw;\n  background-color:${props => props.selected ? theme.secondaryColor : '#DCDCDC'};\n  border-radius:5vw;\n\n  @media ${devices.mobile} {\n    width:2vw;\n    height:2vw;\n    margin: 4vw auto;\n  }\n`;\n\nconst FeaturePlaceholder = styled.div`\n  position:relative;\n  border-radius:2vw;\n  border: solid 1px #888888;\n  width:12vw;\n  height:12vw;\n  max-height:12vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  background-color:#efefef;\n  margin:0.8vw;\n  box-shadow: 0.4vw 0.4vw #888888;\n  opacity:80%;\n\n  @media ${devices.mobile} {\n    width:30vw;\n    height:30vw;\n    max-height:30vw;\n  }\n`;\n\nconst FEATURE_SET_SIZE = 12;\nvar VISIBLE_FEATURES_COUNT = 3;\n\nvar LEFT_FACTOR = 26;\nvar TOP_FACTOR = 13;\nvar LEFT_0 = 6.5;\nvar TOP_0 = 6.5;\n\nconst dummyArrayOfFour = [\"\", \"\", \"\", \"\"];\n\n\n\nvar featurePool = [\n  { title: \"Night Vision\", description: \"Ability to  record videos in dark\" },\n  { title: \"Thermal Cam\", description: \"A camera that can capture surface temperatures of objects below\" },\n  { title: \"Time Travel Cam\", description: \"A camera that capture videos of past, present and future incidents\" },\n  { title: \"X-Ray\", description: \"Ability to see through physical objects\" },\n  { title: \"Night Visio 2\", description: \"Ability to  record videos in dark\" },\n  { title: \"Thermal Cam 2\", description: \"A camera that can capture surface temperatures of objects below\" },\n  { title: \"Time Travel Cam 2\", description: \"A camera that capture videos of past, present and future incidents\" },\n  { title: \"X-Ray 2\", description: \"Ability to see through physical objects\" },\n  { title: \"Night Visio 3\", description: \"Ability to  record videos in dark\" },\n  { title: \"Thermal Cam 4\", description: \"A camera that can capture surface temperatures of objects below\" },\n  { title: \"Time Travel Cam 5\", description: \"A camera that capture videos of past, present and future incidents\" },\n  { title: \"X-Ray 6\", description: \"Ability to see through physical objects\" },\n  { title: \"Night Visio 8\", description: \"Ability to  record videos in dark\" },\n  { title: \"Thermal Cam 8\", description: \"A camera that can capture surface temperatures of objects below\" },\n  { title: \"Time Travel Cam 8\", description: \"A camera that capture videos of past, present and future incidents\" },\n  { title: \"X-Ray 8\", description: \"Ability to see through physical objects\" }\n\n];\n\nclass AddStoryView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visiblefeatureIndex: 0,\n      visibleFetures: [],\n      featureSet: [],\n      selectedFetures: [],\n      drone: null\n    };\n\n    \n  }\n\n  componentDidMount() {\n    if(window.innerWidth < 800){\n      VISIBLE_FEATURES_COUNT = 2;\n      LEFT_FACTOR = 65;\n      TOP_FACTOR = 32;\n      LEFT_0 = 7.2;\n      TOP_0 = 9.6;\n    }\n    document.title=\"Dream Drone\";\n    //fetch features, populate the feature pool, populate featureset\n    fetch(\"/features/\")\n      .then(response => response.json())\n      .then(data => {\n        featurePool = data;\n        this.setFeatureSet(FEATURE_SET_SIZE);\n      });\n\n    //fetch the drone data using id\n    fetch(\"/drones/\" + this.props.match.params.id)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ drone: data });\n      });\n  }\n\n  updateDrone() {\n    fetch('/drones/' + this.state.drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(this.state.drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => { console.log(data) }\n      );\n  }\n\n  render() {\n\n    if ((this.state.drone == null) && this.state.featureSet) return <LoadingWidget></LoadingWidget>;\n\n    return (\n      <Wrapper>\n        <Header>\n          <HeaderText>Step 1 of 3: Add superpowers to your dream drone</HeaderText>\n          {this.renderButton()}\n        </Header>\n        <ContentWrapper>\n          <DroneWrapper>\n            <DroneImage src={logo} alt=\"logo\" ></DroneImage>\n            <Overlay>\n              {/* <FeatureSet> */}\n              {dummyArrayOfFour.map((item, key) =>\n                <FixedFeatureWrapper top={TOP_0 + TOP_FACTOR * (key - (key % 2)) / 2} left={LEFT_0 + LEFT_FACTOR * (key % 2) / 2}>\n                  <FeaturePlaceholder></FeaturePlaceholder>\n                </FixedFeatureWrapper>\n              )}\n\n              {this.state.drone.features.map((item, key) =>\n                <FixedFeatureWrapper top={TOP_0 + TOP_FACTOR * (key - (key % 2)) / 2} left={LEFT_0 + LEFT_FACTOR * (key % 2) / 2}>\n                  <Feature title={item.title} description={item.description} clickHandler={this.handleFeaureClick.bind(this)} index={key}></Feature>\n                </FixedFeatureWrapper>\n              )}\n              {/* </FeatureSet> */}\n            </Overlay>\n          </DroneWrapper>\n\n          <RowWrapper>\n            <Row>\n              <RowHeader>Create a new superpower and add it to your drone</RowHeader>\n              <FeatureSet>\n                <NewFeature clickHandler={this.handleAddNewFeatureClick.bind(this)} />\n              </FeatureSet>\n            </Row>\n            <Row>\n              <RowHeader>or, choose from what others have created</RowHeader>\n              <FeatureSet>\n                <CircleButton onClick={() => this.handlePreviousClick()}>{'<'}</CircleButton>\n                {this.state.featureSet.slice(this.state.visiblefeatureIndex, this.state.visiblefeatureIndex + VISIBLE_FEATURES_COUNT).map((item, key) =>\n                  <Feature title={item.title} description={item.description} featureType={FeatureTypes.selectable} clickHandler={this.handleFeaureClick.bind(this)} index={this.state.visiblefeatureIndex + key}></Feature>\n                  , this)}\n                <CircleButton onClick={() => this.handleNextClick()}>></CircleButton>\n              </FeatureSet>\n              <Row>\n                <DotWrapper>\n                  {this.renderScrollDots()}\n                </DotWrapper>\n              </Row>\n            </Row>\n          </RowWrapper>\n        </ContentWrapper>\n      </Wrapper>\n    )\n  }\n\n  renderButton() {\n    if (this.state.drone.features.length > 0) {\n      return <Button onClick={() => { this.props.history.push('../story/' + this.state.drone._id) }}>Next</Button>\n    }\n    return null;\n  }\n\n  renderScrollDots() {\n    let dots = []\n    let selected = false;\n    let index = this.state.visiblefeatureIndex;\n    \n\n    for (let i = 0; i < FEATURE_SET_SIZE / VISIBLE_FEATURES_COUNT; i++) {\n      selected = i == index/VISIBLE_FEATURES_COUNT;\n      dots.push(<Dot selected={selected}></Dot>)\n    }\n    return dots;\n  }\n\n  handleFeaureClick = (feature) => {\n    let drone = this.state.drone;\n    if (feature.featureType == FeatureTypes.selectable) {\n      if (drone.features.length >= 4){\n        this.displayMaxFeaturesAlert();\n        return\n      }\n      let featureSet = this.state.featureSet;\n      drone.features.push(featureSet[feature.index]);\n      if (featurePool.length) {\n        featureSet[feature.index] = featurePool.pop();\n        this.setState({ featureSet: featureSet });\n      } else {\n        //TODO: refresh pool\n      }\n\n    } else {\n      drone.features.splice(feature.index, 1); //remove button action\n\n    }\n    this.setState({ drone: drone });\n    this.updateDrone();\n  }\n\n  handleAddNewFeatureClick = (feature) => {\n    let drone = this.state.drone;\n    if (drone.features.length >= 4){\n      this.displayMaxFeaturesAlert();\n      return\n    }\n    drone.features.push(feature);\n    this.setState({ drone: drone });\n    this.updateDrone();\n  }\n\n  displayMaxFeaturesAlert(){\n    alert(\"Your dream drone can have a maximum of 4 superpowers.\");\n  }\n\n  handleNextClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index + VISIBLE_FEATURES_COUNT) < this.state.featureSet.length) {\n      this.setState({ visiblefeatureIndex: (index + VISIBLE_FEATURES_COUNT) })\n    }\n  }\n\n  handlePreviousClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index - VISIBLE_FEATURES_COUNT) >= 0) {\n      this.setState({ visiblefeatureIndex: (index - VISIBLE_FEATURES_COUNT) })\n    }\n  }\n\n  setFeatureSet(length) {\n    var featureSet = [];\n    for(var item of featurePool){\n      if(!isGibberish(item.title,4) && !isGibberish(item.description,8)){\n        featureSet.push(item);\n        if(featureSet.length>= length) {\n          break;\n        }\n      }\n    };\n    //featureSet = featurePool.splice(0, length)\n    this.setState({ featureSet: featureSet });\n  }\n\n\n\n\n\n\n}\n\nexport default AddStoryView;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"./Button\";\n\nimport {theme} from \"../colorTheme\";\nimport {devices} from \"../devices.js\"\n\n\nconst Wrapper = styled.div`\n  border-radius:1vw;\n   border: solid 1px ${theme.secondaryColor};\n  width:35vw;\n  height:35vw;\n  max-height:35vw;\n  transition: transform .3s;\n  cursor: pointer;\n  text-align: center;\n  vertical-align: middle;\n  overflow:scroll;\n  padding:0.1vw;\n  background-color:#ffffff;\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n\n  @media ${devices.mobile} {\n    height: auto;\n    width:95vw;\n    height:70vh;\n    max-height:70vh;\n    margin:3vh;\n  }\n`;\n\nconst DroneName = styled.textarea`\n  font-size: 2vw\n  margin: 1vw;\n  font-family: \"Nunito\";\n  font-weight: 700;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n\n  @media ${devices.mobile} {\n    font-size: 6vw\n  }\n`;\n\nconst Description = styled.textarea`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n  min-height:60%;\n  min-width:90%;\n  margin-top:2vw;\n\n  @media ${devices.mobile} {\n    font-size: 4vw\n    margin-top:1vw;\n  }\n`;\n\nconst AutoSave = styled.p`\nfont-size: 1vw\nfont-family: \"Nunito\";\nfont-weight: 500;\ntext-align:right;\nmargin-right:1vw;\ncolor:#008920\n\n@media ${devices.mobile} {\n  font-size: 4vw\n  font-weight: 700;\n}\n`;\n\nconst AddButton = styled.button`\nborder-radius:.8vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nwidth:6vw;\nheight:3vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\npadding:0.5vw;\n\n&:hover{\n  transform: scale(1.04);\n  background-color:${theme.primaryColor};\n  color:#ffffff;\n\n}\n\nfont-size: 1.2vw\nmargin: 0.2vw;\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:${theme.primaryColor};\noutline:none;\n`;\n\nconst NAME_PLACEHOLDER = \"Drone name\";\nconst STORY_PLACEHOLDER = \"Tell us a story about your drone...\";\n\n var characterInputCount = 0;\n\nclass NewStory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      droneName: \"\",\n      droneNamePlaceholder: NAME_PLACEHOLDER,\n      droneStory: \"\",\n      droneStoryPlaceholder: STORY_PLACEHOLDER,\n      autoSave:\"\"\n    };\n  }\n\n  componentDidMount(){\n    if(this.props.name) this.setState({ droneName: this.props.name });\n    if(this.props.story) this.setState({ droneStory: this.props.story });\n  }\n\n  render() {\n    return (\n      <Wrapper onMouseLeave={(ev) => {this.changeHandler(); }}>\n        <DroneName\n          placeholder={this.state.droneNamePlaceholder}\n          onClick={(ev) => { this.setState({ droneNamePlaceholder: \"\" }) }}\n          onBlur={(ev) => { this.setState({ droneNamePlaceholder: NAME_PLACEHOLDER }); this.changeHandler();}}\n          value={this.state.droneName}\n          onChange={(ev) => this.onDroneNameChange(ev)}>\n        </DroneName>\n\n        <Description\n          placeholder={this.state.droneStoryPlaceholder}\n          onClick={(ev) => { this.setState({ droneStoryPlaceholder: \"\" }) }}\n          onBlur={(ev) => { this.setState({ droneStoryPlaceholder: STORY_PLACEHOLDER });}}\n          value={this.state.droneStory}\n          onChange={(ev) => this.onDroneStoryChange(ev)}>\n        </Description>\n        <AutoSave>{this.state.autoSave}</AutoSave>\n\n        {/* {this.renderAddButton()} */}\n      </Wrapper>\n    )\n    return null;\n  }\n\n  onDroneNameChange(ev) {\n    this.setState({ droneName: ev.target.value });\n  }\n\n  onDroneStoryChange(ev) {\n    characterInputCount++;\n    this.setState({ droneStory: ev.target.value });\n    if(characterInputCount > 10 ) {\n      characterInputCount = 0;\n      this.setState({autoSave:\"Auto Saving...\"})\n      this.changeHandler();\n      setInterval(()=>this.setState({autoSave:\"Auto Saved\"}),1500)\n    }\n\n    //hack\n    if(ev.target.value.length == 0){\n      this.setState({autoSave:\"\"})\n      this.props.callback({name:this.state.droneName, story:\"\"});\n    }\n    \n  }\n\n  changeHandler(){\n    this.props.callback({name:this.state.droneName, story:this.state.droneStory});\n  \n  }\n\n  renderAddButton() {\n   \n    if (this.state.droneName.length > 0 && this.state.droneStory.length > 0) {\n      return <AddButton onClick={() => this.handleAddClick()}>Add</AddButton>\n    }\n    return null;\n  }\n\n  handleAddClick() {\n    fetch('/features/',\n      {\n        method: 'POST',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        this.props.clickHandler(data);\n        this.clear();\n      }\n      );\n  }\n\n  clear() {\n    this.setState({ title: \"\", description: \"\" })\n  }\n}\n\nexport default NewStory;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"./Feature\";\nimport NewStory from \"./NewStory\";\nimport LoadingWidget from \"./LoadingWidget\"\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\nimport logo from '../drone.png';\nimport {theme} from \"../colorTheme\";\nimport {devices} from \"../devices.js\"\n\n\n\nconst Wrapper = styled.div`\n  width:100%;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height: 6vh;\n  background-color: ${theme.primaryColor};\n  display:flex;\n  justify-content:space-around;\n\n  @media ${devices.mobile} {\n    height: auto;\n  }\n`;\n\nconst HeaderText = styled.h2`\nfont-size:3vh;\nwidth:80vw;\ntext-align:left;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor:#ffffff;\nmargin:auto 5vw;\nletter-spacing: 0.1px\n\n@media ${devices.mobile} {\n  font-size:4vw;\n  width:60vw;\n  text-align:left;\n  font-family: 'Nunito';\n  font-weight:700;\n  color:#ffffff;\n  margin:1vw;\n  letter-spacing: 0.1px\n  padding:2vw;\n}\n`;\n\n\nconst ContentWrapper = styled.div`\n  margin:auto;\n  position:relative;\n  display:flex\n  justify-content:space-around;\n  height: 92vh;\n\n  @media ${devices.mobile} {\n    flex-direction:column;\n    height:auto;\n  }\n\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  margin:auto;\n`;\n\nconst DroneImage = styled.img`\n  height:40vw;\n  width:40vw;\n  max-height:85vh;\n  max-width:85vh;\n\n  @media ${devices.mobile} {\n    height:80vw;\n    width:80vw;\n    max-height:75vh;\n    max-width:75vh;\n    margin-top:2vh;\n  }\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nmax-height:50vh;\nmax-width:30vh;\nbackground-color:yellow;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\n`;\n\n\nconst RowWrapper = styled.div`\n  display:flex\n  justify-content:space-around;\n  flex-direction:column;\n\n  @media ${devices.mobile} {\n    margin:auto;\n  }\n\n`;\n\nconst Row = styled.div`\n  width:50vw;\n\n  @media ${devices.mobile} {\n    width:95vw;\n  }\n`;\n\nconst RowHeader = styled.h3`\nfont-size: 1.5vw\nmargin: 1vw;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor: ${theme.primaryColor};\n\n@media ${devices.mobile} {\n  padding-top:4vw;\n  font-size: 5vw;\n}\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n\n@media ${devices.mobile} {\n  width:20vw;;\n  height:auto;\n  max-height:10vw;\n  font-size: 4vw\n  \n}\n`;\n\n\n\nconst FeatureSet = styled.div`\n  width:50vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n\n  @media ${devices.mobile} {\n    margin:auto;\n    width:90vw;\n  }\n`;\n\nconst OverlayFeatureSet = styled.div`\n  width:25vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst FeatureWrapper = styled.div`\n  margin-bottom: 5px;\n`;\n\nvar LEFT_FACTOR = 26;\nvar TOP_FACTOR = 13;\nvar LEFT_0 = 6.5;\nvar TOP_0 = 6.5;\n\nconst STORY_PROMPT_TASK = \"Give your dream drone a cool name, and write a story about it.\"\nconst STORY_PROMPT_DESCRIPTION = \"Where does it fly? What does it do there and why?\"\n\n\n\nclass AddStoryView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drone: null\n\n    };\n  }\n\n  componentDidMount() {\n\n    if(window.innerWidth < 800){\n      LEFT_FACTOR = 65;\n      TOP_FACTOR = 32;\n      LEFT_0 = 7.2;\n      TOP_0 = 9.6;\n    }\n\n\n    document.title=\"Dream Drone\";\n    //fetch the drone data using id\n    fetch(\"/drones/\" + this.props.match.params.id)\n      .then(response => response.json())\n      .then(data => {\n        var drone = data;\n        if (!drone.mainStory) {\n          fetch('/stories/',\n            {\n              method: 'POST',\n              body: JSON.stringify({ text: \"\", createdBy:drone.createdBy._id }),\n              headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json',\n                'Mode': \"CORS\"\n              }\n            }).then(response => response.json())\n            .then(data => {\n              drone.mainStory = data;\n              this.setState({ drone: drone })\n              this.updateDrone();\n            }\n            );\n        } else {\n          this.setState({ drone: drone })\n          this.updateDrone();\n        }\n      });\n  }\n\n  updateDrone() {\n    fetch('/drones/' + this.state.drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(this.state.drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => { }\n      );\n  }\n\n  updateStory(story) {\n\n    fetch('/stories/' + this.state.drone.mainStory._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify({ text: story }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n      }\n      );\n  }\n\n  render() {\n    if (this.state.drone == null) return <LoadingWidget></LoadingWidget>;\n\n    return (\n      <Wrapper>\n        <Header>\n        <Button onClick={() => { this.props.history.push('../superpowers/' + this.state.drone._id) }}>Back</Button>\n          <HeaderText>Step 2 of 3: Tell us a story about your drone</HeaderText>\n          \n          {this.renderButton()}\n        </Header>\n        <ContentWrapper>\n          <DroneWrapper>\n            <DroneImage src={logo} alt=\"logo\" ></DroneImage>\n            <Overlay>\n              {/* <FeatureSet> */}\n              {this.state.drone.features.map((item, key) =>\n                <FixedFeatureWrapper top={TOP_0 + TOP_FACTOR * (key - (key % 2)) / 2} left={LEFT_0 + LEFT_FACTOR * (key % 2) / 2}>\n                  <Feature title={item.title} description={item.description} index={key} featureType={FeatureTypes.disabled}></Feature>\n                </FixedFeatureWrapper>\n              )}\n              {/* </FeatureSet> */}\n            </Overlay>\n          </DroneWrapper>\n\n          <RowWrapper>\n            <Row>\n              <RowHeader>{STORY_PROMPT_TASK}</RowHeader>\n              <RowHeader>{STORY_PROMPT_DESCRIPTION}</RowHeader>\n              <FeatureSet>\n                <NewStory name={this.state.drone.name} story={this.state.drone.mainStory.text} callback={this.callbackhandler.bind(this)} />\n              </FeatureSet>\n            </Row>\n          </RowWrapper>\n        </ContentWrapper>\n      </Wrapper>\n    )\n  }\n\n  renderButton() {\n\n    if (this.state.drone.name && this.state.drone.mainStory.text && this.state.drone.mainStory.text.length > 0) {\n      return <Button onClick={() => { this.props.history.push('../select/' + this.state.drone._id) }}>Next</Button>\n    }\n    return null;\n  }\n\n  callbackhandler = (data) => {\n    var drone = this.state.drone;\n    drone.name = data.name;\n    drone.mainStory.text = data.story;\n\n    this.setState({ drone: drone })\n    this.updateDrone();\n    this.updateStory(data.story)\n    \n\n  }\n\n}\n\n\n\nexport default AddStoryView;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"./Feature\";\nimport DroneStory from \"./DroneStory\"\nimport LoadingWidget from \"./LoadingWidget\"\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\nimport {isGibberish} from \"../utils.js\"\nimport {devices} from \"../devices.js\"\n\n\nimport {theme} from \"../colorTheme\";\nimport logo from '../drone.png';\n\nconst Wrapper = styled.div`\n  width:100%;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height: 6vh;\n  background-color: ${theme.primaryColor};\n  display:flex;\n  justify-content:space-around;\n  z-index:100;\n\n  @media ${devices.mobile} {\n    height: auto;\n  }\n  \n`;\n\nconst HeaderText = styled.h2`\nfont-size:3vh;\nwidth:80vw;\ntext-align:left;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor:#ffffff;\nmargin:auto 5vw;\nletter-spacing: 0.1px\n\n@media ${devices.mobile} {\n  font-size:4vw;\n  width:60vw;\n  text-align:left;\n  font-family: 'Nunito';\n  font-weight:700;\n  color:#ffffff;\n  margin:1vw;\n  letter-spacing: 0.1px\n  padding:2vw;\n}\n\n`;\n\nconst ContentWrapper = styled.div`\n  margin:auto;\n  position:relative;\n  display:flex\n  justify-content:space-around;\n  height: 94vh;\n\n  @media ${devices.mobile} {\n    flex-direction:column;\n    height:auto;\n  }\n\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  margin:auto;\n`;\n\nconst DroneImage = styled.img`\n  height:40vw;\n  width:40vw;\n  max-height:85vh;\n  max-width:85vh;\n\n  @media ${devices.mobile} {\n    height:80vw;\n    width:80vw;\n    max-height:75vh;\n    max-width:75vh;\n    margin-top:2vh;\n  }\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nmax-height:50vh;\nmax-width:30vh;\nbackground-color:yellow;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\n`;\n\n\nconst RowWrapper = styled.div`\n  display:flex\n  justify-content:space-around;\n  flex-direction:column;\n\n  @media ${devices.mobile} {\n    margin:auto;\n  }\n\n`;\n\nconst Row = styled.div`\n@media ${devices.mobile} {\n  width:95vw;\n}\n\n`;\n\nconst RowHeader = styled.h3`\nfont-size: 1.5vw\nmargin: auto ;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor: ${theme.primaryColor};\n\n@media ${devices.mobile} {\n  padding-top:4vw;\n  font-size: 5vw;\n}\n`;\n\nconst CircleButton = styled.button`\nborder-radius:100%;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:${theme.secondaryColor};\nwidth:3vw;\nheight:3vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  transform:scale(1.1)\n\n}\nfont-size: 1.2vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:#ffffff;\noutline:none;\n\n@media ${devices.mobile} {\n  width:8vw;\n  height:8vw;\n  max-height:8vw;\n  font-size: 5vw\n}\n\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n\n@media ${devices.mobile} {\n  width:20vw;;\n  height:auto;\n  max-height:10vw;\n  font-size: 4vw\n  \n}\n\n`;\n\n\nconst FeatureSet = styled.div`\n  width:100vw;\n  display:flex\n  justify-content:space-between;\n  margin:10px;\n\n  @media ${devices.mobile} {\n    margin:auto;\n    width:90vw;\n  }\n`;\n\nconst OverlayFeatureSet = styled.div`\n  width:25vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst FeatureWrapper = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst DroneStroryWrpper = styled.div`\n  width:90vw;\n  display:flex\n  justify-content:space-around;\n`;\n\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  width: 70vw;\n  min-height: 40vh;\n  background-color: #efefef;\n  margin: 5vh auto;\n  border-radius: 2vw;\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 2vw\nmargin: 5vh;\nfont-family: \"Nunito\";\nfont-weight: 500\ncolor:${theme.primaryColor};\nwidth: 60vw;\nheight: 30vh;\nbackground-color:#efefef;\nresize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n  margin: auto;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  padding:2vw;\n \n  text-align:center;\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst DotWrapper = styled.div`\n  width: 15vw;\n  height: 2vw;\n  margin:auto;\n  display:flex;\n  justify-content:space-around;\n\n  @media ${devices.mobile} {\n    width: 30vw;\n  height: 3vw;\n  }\n`;\n\nconst Dot = styled.div`\n  width:1vw;\n  height:1vw;\n  background-color:${props => props.selected ? theme.secondaryColor : '#DCDCDC'};\n  border-radius:5vw;\n\n  @media ${devices.mobile} {\n    width:2vw;\n    height:2vw;\n  }\n`;\n\n\n\n\nconst STORY_PLACEHOLDER = \"Add your story\";\n\nconst STORY_PROMPT = \"Add your own story about this drone. Where does it fly? What does it do there and why?\"\n\nconst DRONE_SET_SIZE = 9;\nconst VISIBLE_DRONES_COUNT = 1;\n\nconst LEFT_FACTOR = 26;\nconst TOP_FACTOR = 13;\nconst LEFT_0 = 6.5;\nconst TOP_0 = 6.5;\n\nvar dronePool = [];\n\nclass SelectStoryView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visiblefeatureIndex: 0,\n      visibleFetures: [],\n      droneSet: [],\n      selectedFetures: [],\n      drone: null,\n      droneStory: \"\",\n      droneStoryPlaceholder: STORY_PLACEHOLDER,\n      position: -1,\n      renderStoryInput: false\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\"\n    \n    //fetch features, populate the feature pool, populate featureset\n    fetch(\"/random/drones/99\")\n      .then(response => response.json())\n      .then(data => {\n        for (var i = 0; i < data.length; i++) {\n          fetch(\"/drones/\" + data[i]._id)\n            .then(response => response.json())\n            .then(data => {\n              \n              !data.isFlagged && data.name && !isGibberish(data.name,5)&&dronePool.push(data);\n\n              if(this.state.droneSet.length<=0 && dronePool.length>DRONE_SET_SIZE){\n                this.setDroneSet(DRONE_SET_SIZE)\n              }\n            });\n        }\n        \n      });\n\n    //fetch the drone data using id\n    fetch(\"/drones/\" + this.props.match.params.id)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ drone: data });\n      });\n\n      \n  }\n\n  updateDrone() {\n    fetch('/drones/' + this.state.drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(this.state.drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => { console.log(data) }\n      );\n  }\n\n  render() {\n\n    \n    if (this.state.drone == null) return <LoadingWidget></LoadingWidget>;\n\n    if(!this.state.droneSet.length>0) return <LoadingWidget></LoadingWidget>;\n\n    return (\n      <Wrapper>\n        <Header>\n          <Button onClick={() => { this.props.history.push('../story/' + this.state.drone._id) }}>Back</Button>\n          <HeaderText>Step 3 of 3: Write a story about someone else’s dream drone.</HeaderText>\n          {this.renderButton()}\n        </Header>\n        <ContentWrapper>\n\n\n          <RowWrapper>\n\n            <Row>\n              {/* <RowHeader>Pick a dream drone and add a story to it</RowHeader> */}\n              <FeatureSet>\n                <CircleButton onClick={() => this.handlePreviousClick()}>{'<'}</CircleButton>\n                <DroneStroryWrpper>\n                  {this.state.droneSet.slice(this.state.visiblefeatureIndex, this.state.visiblefeatureIndex + VISIBLE_DRONES_COUNT).map((item, key) =>\n                    <DroneStory drone={item}\n                      index={this.state.visiblefeatureIndex + key}\n                      callback={this.writeCallbackHandler.bind(this)}\n                      selected={this.state.position == key}\n                      disabled={this.state.position >= 0 || this.state.position != key}\n                    ></DroneStory>\n                    , this)}\n                </DroneStroryWrpper>\n\n                <CircleButton onClick={() => this.handleNextClick()}>></CircleButton>\n              </FeatureSet>\n            </Row>\n            {!this.state.renderStoryInput && <Row>\n              <DotWrapper>\n                {this.renderScrollDots()}\n              </DotWrapper>\n            </Row>}\n          </RowWrapper>\n        </ContentWrapper>\n\n\n        {/* {this.state.renderStoryInput && <StoryInputWrapper ref=\"bottom\">\n          <StoryPrompt>{STORY_PROMPT}</StoryPrompt>\n          <StoryInput\n            placeholder={this.state.droneStoryPlaceholder}\n            onClick={(ev) => { this.setState({ droneStoryPlaceholder: \"\" }) }}\n            onBlur={(ev) => { this.setState({ droneStoryPlaceholder: STORY_PLACEHOLDER }); }}\n            value={this.state.droneStory}\n            onChange={(ev) => this.onDroneStoryChange(ev)}>\n          </StoryInput>\n          <Arrow position={this.state.position}></Arrow>\n        </StoryInputWrapper>} */}\n\n      </Wrapper>\n    )\n  }\n\n  renderButton() {\n    if (this.state.drone.features.length > 0) {\n      return <Button onClick={() => { this.props.history.push('../complete/' + this.state.drone.createdBy._id) }}>Submit</Button>\n    }\n    return null;\n  }\n\n  writeCallbackHandler() {\n\n  }\n\n  onDroneStoryChange(ev) {\n    this.setState({ droneStory: ev.target.value });\n  }\n\n\n  handleNextClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index + VISIBLE_DRONES_COUNT) < this.state.droneSet.length) {\n      this.setState({ visiblefeatureIndex: (index + VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  handlePreviousClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index - VISIBLE_DRONES_COUNT) >= 0) {\n      this.setState({ visiblefeatureIndex: (index - VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  setDroneSet(length) {\n \n    var droneSet = [];\n    droneSet = dronePool.splice(0, length)\n    this.setState({ droneSet: droneSet });\n  }\n\n\n  renderScrollDots() {\n    let dots = []\n    let selected = false;\n    let index = this.state.visiblefeatureIndex;\n\n\n    for (let i = 0; i < DRONE_SET_SIZE / VISIBLE_DRONES_COUNT; i++) {\n      selected = i == index / VISIBLE_DRONES_COUNT;\n      dots.push(<Dot selected={selected}></Dot>)\n    }\n    return dots;\n  }\n\n\n\n\n\n\n}\n\nexport default SelectStoryView;\n","export let countries = [\n    {\"name\": \"Afghanistan\", \"code\": \"AF\"},\n    {\"name\": \"Åland Islands\", \"code\": \"AX\"},\n    {\"name\": \"Albania\", \"code\": \"AL\"},\n    {\"name\": \"Algeria\", \"code\": \"DZ\"},\n    {\"name\": \"American Samoa\", \"code\": \"AS\"},\n    {\"name\": \"AndorrA\", \"code\": \"AD\"},\n    {\"name\": \"Angola\", \"code\": \"AO\"},\n    {\"name\": \"Anguilla\", \"code\": \"AI\"},\n    {\"name\": \"Antarctica\", \"code\": \"AQ\"},\n    {\"name\": \"Antigua and Barbuda\", \"code\": \"AG\"},\n    {\"name\": \"Argentina\", \"code\": \"AR\"},\n    {\"name\": \"Armenia\", \"code\": \"AM\"},\n    {\"name\": \"Aruba\", \"code\": \"AW\"},\n    {\"name\": \"Australia\", \"code\": \"AU\"},\n    {\"name\": \"Austria\", \"code\": \"AT\"},\n    {\"name\": \"Azerbaijan\", \"code\": \"AZ\"},\n    {\"name\": \"Bahamas\", \"code\": \"BS\"},\n    {\"name\": \"Bahrain\", \"code\": \"BH\"},\n    {\"name\": \"Bangladesh\", \"code\": \"BD\"},\n    {\"name\": \"Barbados\", \"code\": \"BB\"},\n    {\"name\": \"Belarus\", \"code\": \"BY\"},\n    {\"name\": \"Belgium\", \"code\": \"BE\"},\n    {\"name\": \"Belize\", \"code\": \"BZ\"},\n    {\"name\": \"Benin\", \"code\": \"BJ\"},\n    {\"name\": \"Bermuda\", \"code\": \"BM\"},\n    {\"name\": \"Bhutan\", \"code\": \"BT\"},\n    {\"name\": \"Bolivia\", \"code\": \"BO\"},\n    {\"name\": \"Bosnia and Herzegovina\", \"code\": \"BA\"},\n    {\"name\": \"Botswana\", \"code\": \"BW\"},\n    {\"name\": \"Bouvet Island\", \"code\": \"BV\"},\n    {\"name\": \"Brazil\", \"code\": \"BR\"},\n    {\"name\": \"British Indian Ocean Territory\", \"code\": \"IO\"},\n    {\"name\": \"Brunei Darussalam\", \"code\": \"BN\"},\n    {\"name\": \"Bulgaria\", \"code\": \"BG\"},\n    {\"name\": \"Burkina Faso\", \"code\": \"BF\"},\n    {\"name\": \"Burundi\", \"code\": \"BI\"},\n    {\"name\": \"Cambodia\", \"code\": \"KH\"},\n    {\"name\": \"Cameroon\", \"code\": \"CM\"},\n    {\"name\": \"Canada\", \"code\": \"CA\"},\n    {\"name\": \"Cape Verde\", \"code\": \"CV\"},\n    {\"name\": \"Cayman Islands\", \"code\": \"KY\"},\n    {\"name\": \"Central African Republic\", \"code\": \"CF\"},\n    {\"name\": \"Chad\", \"code\": \"TD\"},\n    {\"name\": \"Chile\", \"code\": \"CL\"},\n    {\"name\": \"China\", \"code\": \"CN\"},\n    {\"name\": \"Christmas Island\", \"code\": \"CX\"},\n    {\"name\": \"Cocos (Keeling) Islands\", \"code\": \"CC\"},\n    {\"name\": \"Colombia\", \"code\": \"CO\"},\n    {\"name\": \"Comoros\", \"code\": \"KM\"},\n    {\"name\": \"Congo\", \"code\": \"CG\"},\n    {\"name\": \"Congo, The Democratic Republic of the\", \"code\": \"CD\"},\n    {\"name\": \"Cook Islands\", \"code\": \"CK\"},\n    {\"name\": \"Costa Rica\", \"code\": \"CR\"},\n    {\"name\": \"Cote D'Ivoire\", \"code\": \"CI\"},\n    {\"name\": \"Croatia\", \"code\": \"HR\"},\n    {\"name\": \"Cuba\", \"code\": \"CU\"},\n    {\"name\": \"Cyprus\", \"code\": \"CY\"},\n    {\"name\": \"Czech Republic\", \"code\": \"CZ\"},\n    {\"name\": \"Denmark\", \"code\": \"DK\"},\n    {\"name\": \"Djibouti\", \"code\": \"DJ\"},\n    {\"name\": \"Dominica\", \"code\": \"DM\"},\n    {\"name\": \"Dominican Republic\", \"code\": \"DO\"},\n    {\"name\": \"Ecuador\", \"code\": \"EC\"},\n    {\"name\": \"Egypt\", \"code\": \"EG\"},\n    {\"name\": \"El Salvador\", \"code\": \"SV\"},\n    {\"name\": \"Equatorial Guinea\", \"code\": \"GQ\"},\n    {\"name\": \"Eritrea\", \"code\": \"ER\"},\n    {\"name\": \"Estonia\", \"code\": \"EE\"},\n    {\"name\": \"Ethiopia\", \"code\": \"ET\"},\n    {\"name\": \"Falkland Islands (Malvinas)\", \"code\": \"FK\"},\n    {\"name\": \"Faroe Islands\", \"code\": \"FO\"},\n    {\"name\": \"Fiji\", \"code\": \"FJ\"},\n    {\"name\": \"Finland\", \"code\": \"FI\"},\n    {\"name\": \"France\", \"code\": \"FR\"},\n    {\"name\": \"French Guiana\", \"code\": \"GF\"},\n    {\"name\": \"French Polynesia\", \"code\": \"PF\"},\n    {\"name\": \"French Southern Territories\", \"code\": \"TF\"},\n    {\"name\": \"Gabon\", \"code\": \"GA\"},\n    {\"name\": \"Gambia\", \"code\": \"GM\"},\n    {\"name\": \"Georgia\", \"code\": \"GE\"},\n    {\"name\": \"Germany\", \"code\": \"DE\"},\n    {\"name\": \"Ghana\", \"code\": \"GH\"},\n    {\"name\": \"Gibraltar\", \"code\": \"GI\"},\n    {\"name\": \"Greece\", \"code\": \"GR\"},\n    {\"name\": \"Greenland\", \"code\": \"GL\"},\n    {\"name\": \"Grenada\", \"code\": \"GD\"},\n    {\"name\": \"Guadeloupe\", \"code\": \"GP\"},\n    {\"name\": \"Guam\", \"code\": \"GU\"},\n    {\"name\": \"Guatemala\", \"code\": \"GT\"},\n    {\"name\": \"Guernsey\", \"code\": \"GG\"},\n    {\"name\": \"Guinea\", \"code\": \"GN\"},\n    {\"name\": \"Guinea-Bissau\", \"code\": \"GW\"},\n    {\"name\": \"Guyana\", \"code\": \"GY\"},\n    {\"name\": \"Haiti\", \"code\": \"HT\"},\n    {\"name\": \"Heard Island and Mcdonald Islands\", \"code\": \"HM\"},\n    {\"name\": \"Holy See (Vatican City State)\", \"code\": \"VA\"},\n    {\"name\": \"Honduras\", \"code\": \"HN\"},\n    {\"name\": \"Hong Kong\", \"code\": \"HK\"},\n    {\"name\": \"Hungary\", \"code\": \"HU\"},\n    {\"name\": \"Iceland\", \"code\": \"IS\"},\n    {\"name\": \"India\", \"code\": \"IN\"},\n    {\"name\": \"Indonesia\", \"code\": \"ID\"},\n    {\"name\": \"Iran, Islamic Republic Of\", \"code\": \"IR\"},\n    {\"name\": \"Iraq\", \"code\": \"IQ\"},\n    {\"name\": \"Ireland\", \"code\": \"IE\"},\n    {\"name\": \"Isle of Man\", \"code\": \"IM\"},\n    {\"name\": \"Israel\", \"code\": \"IL\"},\n    {\"name\": \"Italy\", \"code\": \"IT\"},\n    {\"name\": \"Jamaica\", \"code\": \"JM\"},\n    {\"name\": \"Japan\", \"code\": \"JP\"},\n    {\"name\": \"Jersey\", \"code\": \"JE\"},\n    {\"name\": \"Jordan\", \"code\": \"JO\"},\n    {\"name\": \"Kazakhstan\", \"code\": \"KZ\"},\n    {\"name\": \"Kenya\", \"code\": \"KE\"},\n    {\"name\": \"Kiribati\", \"code\": \"KI\"},\n    {\"name\": \"Korea, Democratic People's Republic of\", \"code\": \"KP\"},\n    {\"name\": \"Korea, Republic of\", \"code\": \"KR\"},\n    {\"name\": \"Kuwait\", \"code\": \"KW\"},\n    {\"name\": \"Kyrgyzstan\", \"code\": \"KG\"},\n    {\"name\": \"Lao People's Democratic Republic\", \"code\": \"LA\"},\n    {\"name\": \"Latvia\", \"code\": \"LV\"},\n    {\"name\": \"Lebanon\", \"code\": \"LB\"},\n    {\"name\": \"Lesotho\", \"code\": \"LS\"},\n    {\"name\": \"Liberia\", \"code\": \"LR\"},\n    {\"name\": \"Libyan Arab Jamahiriya\", \"code\": \"LY\"},\n    {\"name\": \"Liechtenstein\", \"code\": \"LI\"},\n    {\"name\": \"Lithuania\", \"code\": \"LT\"},\n    {\"name\": \"Luxembourg\", \"code\": \"LU\"},\n    {\"name\": \"Macao\", \"code\": \"MO\"},\n    {\"name\": \"Macedonia, The Former Yugoslav Republic of\", \"code\": \"MK\"},\n    {\"name\": \"Madagascar\", \"code\": \"MG\"},\n    {\"name\": \"Malawi\", \"code\": \"MW\"},\n    {\"name\": \"Malaysia\", \"code\": \"MY\"},\n    {\"name\": \"Maldives\", \"code\": \"MV\"},\n    {\"name\": \"Mali\", \"code\": \"ML\"},\n    {\"name\": \"Malta\", \"code\": \"MT\"},\n    {\"name\": \"Marshall Islands\", \"code\": \"MH\"},\n    {\"name\": \"Martinique\", \"code\": \"MQ\"},\n    {\"name\": \"Mauritania\", \"code\": \"MR\"},\n    {\"name\": \"Mauritius\", \"code\": \"MU\"},\n    {\"name\": \"Mayotte\", \"code\": \"YT\"},\n    {\"name\": \"Mexico\", \"code\": \"MX\"},\n    {\"name\": \"Micronesia, Federated States of\", \"code\": \"FM\"},\n    {\"name\": \"Moldova, Republic of\", \"code\": \"MD\"},\n    {\"name\": \"Monaco\", \"code\": \"MC\"},\n    {\"name\": \"Mongolia\", \"code\": \"MN\"},\n    {\"name\": \"Montserrat\", \"code\": \"MS\"},\n    {\"name\": \"Morocco\", \"code\": \"MA\"},\n    {\"name\": \"Mozambique\", \"code\": \"MZ\"},\n    {\"name\": \"Myanmar\", \"code\": \"MM\"},\n    {\"name\": \"Namibia\", \"code\": \"NA\"},\n    {\"name\": \"Nauru\", \"code\": \"NR\"},\n    {\"name\": \"Nepal\", \"code\": \"NP\"},\n    {\"name\": \"Netherlands\", \"code\": \"NL\"},\n    {\"name\": \"Netherlands Antilles\", \"code\": \"AN\"},\n    {\"name\": \"New Caledonia\", \"code\": \"NC\"},\n    {\"name\": \"New Zealand\", \"code\": \"NZ\"},\n    {\"name\": \"Nicaragua\", \"code\": \"NI\"},\n    {\"name\": \"Niger\", \"code\": \"NE\"},\n    {\"name\": \"Nigeria\", \"code\": \"NG\"},\n    {\"name\": \"Niue\", \"code\": \"NU\"},\n    {\"name\": \"Norfolk Island\", \"code\": \"NF\"},\n    {\"name\": \"Northern Mariana Islands\", \"code\": \"MP\"},\n    {\"name\": \"Norway\", \"code\": \"NO\"},\n    {\"name\": \"Oman\", \"code\": \"OM\"},\n    {\"name\": \"Pakistan\", \"code\": \"PK\"},\n    {\"name\": \"Palau\", \"code\": \"PW\"},\n    {\"name\": \"Palestinian Territory, Occupied\", \"code\": \"PS\"},\n    {\"name\": \"Panama\", \"code\": \"PA\"},\n    {\"name\": \"Papua New Guinea\", \"code\": \"PG\"},\n    {\"name\": \"Paraguay\", \"code\": \"PY\"},\n    {\"name\": \"Peru\", \"code\": \"PE\"},\n    {\"name\": \"Philippines\", \"code\": \"PH\"},\n    {\"name\": \"Pitcairn\", \"code\": \"PN\"},\n    {\"name\": \"Poland\", \"code\": \"PL\"},\n    {\"name\": \"Portugal\", \"code\": \"PT\"},\n    {\"name\": \"Puerto Rico\", \"code\": \"PR\"},\n    {\"name\": \"Qatar\", \"code\": \"QA\"},\n    {\"name\": \"Reunion\", \"code\": \"RE\"},\n    {\"name\": \"Romania\", \"code\": \"RO\"},\n    {\"name\": \"Russian Federation\", \"code\": \"RU\"},\n    {\"name\": \"RWANDA\", \"code\": \"RW\"},\n    {\"name\": \"Saint Helena\", \"code\": \"SH\"},\n    {\"name\": \"Saint Kitts and Nevis\", \"code\": \"KN\"},\n    {\"name\": \"Saint Lucia\", \"code\": \"LC\"},\n    {\"name\": \"Saint Pierre and Miquelon\", \"code\": \"PM\"},\n    {\"name\": \"Saint Vincent and the Grenadines\", \"code\": \"VC\"},\n    {\"name\": \"Samoa\", \"code\": \"WS\"},\n    {\"name\": \"San Marino\", \"code\": \"SM\"},\n    {\"name\": \"Sao Tome and Principe\", \"code\": \"ST\"},\n    {\"name\": \"Saudi Arabia\", \"code\": \"SA\"},\n    {\"name\": \"Senegal\", \"code\": \"SN\"},\n    {\"name\": \"Serbia and Montenegro\", \"code\": \"CS\"},\n    {\"name\": \"Seychelles\", \"code\": \"SC\"},\n    {\"name\": \"Sierra Leone\", \"code\": \"SL\"},\n    {\"name\": \"Singapore\", \"code\": \"SG\"},\n    {\"name\": \"Slovakia\", \"code\": \"SK\"},\n    {\"name\": \"Slovenia\", \"code\": \"SI\"},\n    {\"name\": \"Solomon Islands\", \"code\": \"SB\"},\n    {\"name\": \"Somalia\", \"code\": \"SO\"},\n    {\"name\": \"South Africa\", \"code\": \"ZA\"},\n    {\"name\": \"South Georgia and the South Sandwich Islands\", \"code\": \"GS\"},\n    {\"name\": \"Spain\", \"code\": \"ES\"},\n    {\"name\": \"Sri Lanka\", \"code\": \"LK\"},\n    {\"name\": \"Sudan\", \"code\": \"SD\"},\n    {\"name\": \"Suriname\", \"code\": \"SR\"},\n    {\"name\": \"Svalbard and Jan Mayen\", \"code\": \"SJ\"},\n    {\"name\": \"Swaziland\", \"code\": \"SZ\"},\n    {\"name\": \"Sweden\", \"code\": \"SE\"},\n    {\"name\": \"Switzerland\", \"code\": \"CH\"},\n    {\"name\": \"Syrian Arab Republic\", \"code\": \"SY\"},\n    {\"name\": \"Taiwan, Province of China\", \"code\": \"TW\"},\n    {\"name\": \"Tajikistan\", \"code\": \"TJ\"},\n    {\"name\": \"Tanzania, United Republic of\", \"code\": \"TZ\"},\n    {\"name\": \"Thailand\", \"code\": \"TH\"},\n    {\"name\": \"Timor-Leste\", \"code\": \"TL\"},\n    {\"name\": \"Togo\", \"code\": \"TG\"},\n    {\"name\": \"Tokelau\", \"code\": \"TK\"},\n    {\"name\": \"Tonga\", \"code\": \"TO\"},\n    {\"name\": \"Trinidad and Tobago\", \"code\": \"TT\"},\n    {\"name\": \"Tunisia\", \"code\": \"TN\"},\n    {\"name\": \"Turkey\", \"code\": \"TR\"},\n    {\"name\": \"Turkmenistan\", \"code\": \"TM\"},\n    {\"name\": \"Turks and Caicos Islands\", \"code\": \"TC\"},\n    {\"name\": \"Tuvalu\", \"code\": \"TV\"},\n    {\"name\": \"Uganda\", \"code\": \"UG\"},\n    {\"name\": \"Ukraine\", \"code\": \"UA\"},\n    {\"name\": \"United Arab Emirates\", \"code\": \"AE\"},\n    {\"name\": \"United Kingdom\", \"code\": \"GB\"},\n    {\"name\": \"United States\", \"code\": \"US\"},\n    {\"name\": \"United States Minor Outlying Islands\", \"code\": \"UM\"},\n    {\"name\": \"Uruguay\", \"code\": \"UY\"},\n    {\"name\": \"Uzbekistan\", \"code\": \"UZ\"},\n    {\"name\": \"Vanuatu\", \"code\": \"VU\"},\n    {\"name\": \"Venezuela\", \"code\": \"VE\"},\n    {\"name\": \"Viet Nam\", \"code\": \"VN\"},\n    {\"name\": \"Virgin Islands, British\", \"code\": \"VG\"},\n    {\"name\": \"Virgin Islands, U.S.\", \"code\": \"VI\"},\n    {\"name\": \"Wallis and Futuna\", \"code\": \"WF\"},\n    {\"name\": \"Western Sahara\", \"code\": \"EH\"},\n    {\"name\": \"Yemen\", \"code\": \"YE\"},\n    {\"name\": \"Zambia\", \"code\": \"ZM\"},\n    {\"name\": \"Zimbabwe\", \"code\": \"ZW\"}\n    ];\n\n\nexport let ageRanges = [\"18-25\", \"26-35\", \"36-45\", \"46-60\", \"60+\"];\n\nexport let genderOptions = [\"Female\", \"Male\", \"Other\", \"Prefer not to say\"];\n\nexport let droneOwnership = [\"Yes, I do.\", \"No, I don't\"];","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { countries as countries, genderOptions as genderOptions, ageRanges as ageRanges, droneOwnership as droneOwnership } from \"../selectOptions\";\nimport {theme} from \"../colorTheme\";\nimport {devices} from \"../devices.js\"\n\n\n\n\n\nconst ThankYouText = styled.h1`\n  font-size: 3vw\n  margin: 5vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n\n@media ${devices.mobile} {\n  font-size: 7vw\n}\n`;\n\nconst Message = styled.p`\nfont-size: 1.3vw\n \n  margin-bottom:1vh;\n  margin-top:2vh;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  // color:${theme.primaryColor};\n  text-align:center;\n  padding:0.5vw;\n  margin:auto;\n\n  @media ${devices.mobile} {\n    font-size: 3vw\n    margin:auto;\n  }\n`;\n\n\nconst PromptContainer = styled.div`\nwidth: 50vw;\nmargin:auto;\nmargin-bottom:20vh;\n\n@media ${devices.mobile} {\n  font-size: 3vw\n  width:90vw;\n  margin:auto;\n}\n`;\n\nconst Prompt = styled.p`\n  font-size: 1.2vw\n  margin-bottom:1vh;\n  margin-top:5vh;\n  font-family: \"Roboto\";\n  font-weight: 500;\n  color:${theme.primaryColor};\n  text-align:left;\n\n  @media ${devices.mobile} {\n    font-size: 3vw\n  }\n`;\n\nconst TextField = styled.input`\n  font-size: 1.2vw;\n  width: 15vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:left;\n  border-radius:1vw;\n  border: solid 1px ${theme.secondaryColor};\n  outline:none;\n  height: 3vw;\n  text-align:center;\n  margin-top:2vh;\n\n  @media ${devices.mobile} {\n      width: 40vw;\n      font-size: 3vw\n      height: 7vw;\n  \n    \n  }\n\n`;\n\nconst SingleTextField = styled.input`\n  font-size: 1.2vw;\n  width: 15vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:left;\n  border-radius:0.6vw;\n  border: solid 1px ${theme.secondaryColor};\n  outline:none;\n  height: 3vw;\n\n  width: 49vw;\n  height: 3vw;\n  padding: 1vh;\n\n  @media ${devices.mobile} {\n    width: 90vw;\n    font-size: 3vw\n    height: 7vw;\n\n  }\n`;\n\n\nconst Select = styled.select`\n  width: 50vw;\n  height: 3vw;\n  background: white;\n  border: none;\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  border-radius:0.5vw;\n  border: solid 1px ${theme.secondaryColor};\n  outline:none;\n\n  option {\n    color: black;\n    background: white;\n    display: flex;\n    white-space: pre;\n    min-height: 20px;\n    padding: 0px 2px 1px;\n    font-size: 1.2vw;\n    font-family: \"Roboto\";\n  font-weight: 400;\n  }\n\n  @media ${devices.mobile} {\n    font-size:3vw;\n    width: 90vw;\n    height:5vw;\n    padding:10vw;\n    \n  }\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\nmin-width:10vw;\nheight:2.5vw;\nmax-height:2.5vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px #ffffff;\n\n\n\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 900\n\noutline:none;\n\n\n@media ${devices.mobile} {\n  font-size:4vw;\n  width: 70vw;\n  height:auto;\n  max-height:none;\n  padding:2vw;\n  \n}\n`;\n\nconst SkipButton = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\nmin-width:10vw;\nheight:2.5vw;\nmax-height:2.5vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.secondaryColor};\noutline:none;\n\n@media ${devices.mobile} {\n  font-size:4vw;\n  width: 70vw;\n  height:auto;\n  max-height:none;\n  padding:2vw;\n  margin-top:5vw;\n  \n}\n`;\n\n\nconst Wrapper = styled.div`\n  width: 50vw;\n  margin:8vh auto;\n  border-radius:1vw;\n  border: solid 1px #D9D9D9;\n  background-color: #D9D9D9;\n\n  @media ${devices.mobile} {\n    font-size:3vw;\n    width: 90vw;\n    margin:5vw auto;\n    \n  }\n`;\n\n\nconst NameEmailWrapper = styled.div`\n  width: 40vw;\n  display:flex;\n  margin:auto;\n  justify-content:space-around;\n  margin-bottom:5vh;\n\n  @media ${devices.mobile} {\n    width: 85vw; \n  }\n`;\n\nexport default class FinishView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOwning: {},\n      ageRange: {},\n      gender: {},\n      country: {},\n      background: \"\",\n      email: \"\",\n      name: \"\"\n    };\n  }\n\n  componentDidMount(){\n    document.title=\"Dream Drone\";\n  }\n\n\n\n  render() {\n    return (\n      <div>\n        <ThankYouText>Thanks for your creativity! </ThankYouText>\n\n        <PromptContainer>\n          <Message>We would like to know more about you. You can help our research by providing the following information.</Message>\n\n          <Prompt>Do you own a drone?</Prompt>\n          <Select onChange={(ev) => { if (ev.target.selectedIndex > 0) { this.setState({ isOwning: { index: ev.target.selectedIndex, value: ev.target.value } }) } }}>\n            <option value=\"\" hidden>\n              Select\n        </option>\n            {droneOwnership.map((item, key) =>\n              <option>{item}</option>\n            )}\n          </Select>\n\n          <Prompt>Your Age</Prompt>\n          <Select onChange={(ev) => { if (ev.target.selectedIndex > 0) { this.setState({ ageRange: { index: ev.target.selectedIndex, value: ev.target.value } }) } }}>\n            <option value=\"\" hidden>\n              Select age range\n        </option>\n            {ageRanges.map((item, key) =>\n              <option>{item}</option>\n            )}\n          </Select>\n\n          <Prompt>Your Gender</Prompt>\n          <Select onChange={(ev) => { if (ev.target.selectedIndex > 0) { this.setState({ gender: { index: ev.target.selectedIndex, value: ev.target.value } }) } }}>\n            <option value=\"\" hidden>\n              Your gender\n        </option>\n            {genderOptions.map((item, key) =>\n              <option>{item}</option>\n            )}\n          </Select>\n\n          <Prompt>Your Country</Prompt>\n          <Select onChange={(ev) => { if (ev.target.selectedIndex > 0) { this.setState({ country: { index: ev.target.selectedIndex, value: ev.target.value } }) } }}>\n            <option value=\"\" hidden>\n              Select Country\n        </option>\n            {countries.map((item, key) =>\n              <option>{item.name}</option>\n            )}\n          </Select>\n\n          <Prompt>Tell us about your background and/or area of interest</Prompt>\n          <SingleTextField\n            onChange={(ev) => { this.setState({ background: ev.target.value }) }}\n            value={this.state.background}\n            placeholder=\"e.g., I'm a drone hobbyist, I'm an industrial designer, I'm a climate change activist\"></SingleTextField>\n\n          <Wrapper>\n\n            <Message><strong>Could we contact you for a follow-up interview to help our research?</strong></Message>\n            <Message>If\n            you would like to be included in future research activities, please\nenter your name and the email below.</Message>\n\n            <NameEmailWrapper>\n              <TextField\n                placeholder=\"First Name\"\n                onChange={(ev) => { this.setState({ name: ev.target.value }) }}\n                value={this.state.name}></TextField>\n              <TextField\n                placeholder=\"Email Address\"\n                onChange={(ev) => { this.setState({ email: ev.target.value }) }}\n                value={this.state.email}></TextField>\n            </NameEmailWrapper>\n          </Wrapper>\n\n          <Button onClick={() => { this.handleSubmit() }}>Submit</Button>\n          <SkipButton onClick={() => { this.props.history.push('../allstories/'+ this.props.match.params.user_id) }}>Skip</SkipButton>\n\n        </PromptContainer>\n      </div>\n    )\n    return null;\n  }\n\n\n  handleSubmit() {\n    fetch('/users/' + this.props.match.params.user_id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(this.state),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n\n      }\n      );\n\n    this.props.history.push('../allstories/'+ this.props.match.params.user_id)\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport {theme} from \"../colorTheme\";\n\nimport DroneStory from \"./DroneStory\"\nimport LoadingWidget from \"./LoadingWidget\";\n\n\n\n\nconst ThankYouText = styled.h1`\n  font-size: 3vw\n  margin: 5vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n`;\n\nconst Message = styled.p`\nfont-size: 1.3vw\n \n  margin-bottom:1vh;\n  margin-top:6vh;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  // color:${theme.primaryColor};\n  text-align:center;\n`;\n\n\n\n\nexport default class DoneView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drones:null\n    };\n  }\n\n\n\n  componentDidMount(){\n    document.title=\"Dream Drone\"\n    fetch(\"/random/drones/99\")\n      .then(response => response.json())\n      .then(data => {\n        this.setState({drones:data})\n        \n      });\n  }\n\n\n\n  render() {\n    return (\n      <div>\n        <ThankYouText>Done! </ThankYouText>\n        <Message>Thanks again for you time.</Message>\n        {/* {this.state.drones == null && <LoadingWidget></LoadingWidget>}\n        {this.state.drones != null && this.state.drones.map((item, key) => \n            !item.isFlagged && <DroneStory drone={item}></DroneStory>\n          )\n        } */}\n      </div>\n    )\n    return null;\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport {theme} from \"../colorTheme\";\nimport {devices} from \"../devices.js\"\n\n\n\nconst Wrapper = styled.div`\n  width: 60vw;\n  margin:auto;\n  margin-bottom:10vh;\n\n  @media ${devices.mobile} {\n    width: 90vw;\n  }\n`;\nconst Title = styled.h1`\n  font-size: 3vw;\n  margin: 6vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n\n@media ${devices.mobile} {\n  font-size: 5vw\n}\n\n`;\n\nconst Message = styled.p`\nfont-size: 1.3vw\n  margin-bottom:1vh;\n  margin-top:3vh;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  // color:${theme.primaryColor};\n  text-align:left;\n\n  @media ${devices.mobile} {\n    font-size: 2.5vw\n  }\n\n`;\n\n\nconst StartButton = styled.button`\nborder-radius: 0.3vw\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:#ffffff;\nheight:3vw;\nwidth:10vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n\n\n\nfont-size: 1.3vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\n\n\noutline:none;\nmargin-top:5vh;\n\n@media ${devices.mobile} {\n  font-size: 3.5vw;\n  width:75vw;\n  height: auto;\n  padding:2vw;\n  max-height:none;\n\n}\n\n`;\n\nexport default class ConsentView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      storyIndex: 0\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\"\n    window.scrollTo(0, 0)\n  }\n\n  render() {\n    return (\n      <Wrapper>\n        <Title>Before we proceed... </Title>\n        <Message>We are researchers from the Social and Digital Systems Group at Arizona State University (SANDS) working alongside Professor Stacey Kuznetsov from the School of Art Media and Engineering at ASU. </Message>\n        <Message>This \"dream drone\" web platform is developed by us as a research tool to learn how crowd-generated fictions can shape future drone technologies. This platform will take you along three different steps where you will have the opportunity to design your dream drone and share a story of how you will use it with us, and other participants! This platform will take between 15 - 20 minutes to navigate. </Message>\n        <Message>Your participation is 100% voluntary and you may quit or exit at any time. However, all your answers up to that point will be shared with us anonymously. </Message>\n        <Message>There are no foreseeable risks involved in participating in this study other than those\nencountered in day-to-day life. At the end of the survey, you will be asked if you are interested\nin participating in a follow-up interview. If you choose to provide contact information such as\nyour email address, your survey responses may no longer be anonymous to the researchers.\nThe contact information will be retained by the research team for up to three years. However, no\nnames or identifying information will be included in any publications or presentations based on\nthe data, and your responses will remain confidential. The results of this study may be used in\nreports, presentations, or publications but your name will not be used.</Message>\n        <Message>If you have any questions concerning the research study, please contact the research team: Piyum Fernando (<a href=\"mailto:pfernan4@asu.edu\">pfernan4@asu.edu</a>) | Alejandra Rodriguez Vega (<a href=\"mailto:ale.rodriguez@asu.edu\">ale.rodriguez@asu.edu</a>) | Stacey Kuznetsov (<a href=\"mailto:askuznet@asu.edu\">askuznet@asu.edu</a>).</Message>\n        <Message>If you have any questions about your rights as a participant in this research, or if you feel you have been placed at risk, you can contact the Chair of the Human Subjects Institutional Review Board, through the ASU Office of Research Integrity and Assurance, at (480) 965-6788.</Message>\n        <Message>Click on the “Proceed” button below to start. By clicking “Proceed” you consent that <strong>you are at least 18 years of age</strong>. We thank you in advance for your time and effort!</Message>\n        \n        <StartButton onClick={() => this.startClick()}>Proceed</StartButton>\n        \n      </Wrapper>\n    )\n    return null;\n  }\n\n\n  startClick() {\n   if (this.props.match.params.view) {\n      this.props.history.push('/allstories');\n      return\n   }\n    \n    fetch('/users/',\n      {\n        method: 'POST',\n        body: JSON.stringify({\n        }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        fetch('/drones/',\n          {\n            method: 'POST',\n            body: JSON.stringify({createdBy:data._id}),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            console.log(data);\n            this.props.history.push('superpowers/' + data._id);\n          }\n          );\n\n      }\n      );\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { theme } from \"../colorTheme\";\n\n\n\nconst HeaderContainer = styled.div`\n  width:100%;\n  position:fixed;\n\n  z-index:100;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height:10vh;\n  background-color: #50c3f7;\n`;\n\nconst SubHeader = styled.div`\n  width:100%;\n  height:8vh;\n  background-color:white;\n  box-shadow: 0px 2px 5px lightgrey;\n`;\n\nconst ModuleContainer = styled.div`\n  width:100%;\n  \n`;\n\n\nconst PlaceHolder = styled.div`\n  width:100%;\n  height:17vh;\n`;\n\n\nconst Module = styled.div`\n  width:100%;\n  height:80vh;\n  // background-color:lightgrey;\n  box-shadow: 0px 1px 20px lightgrey;\n  margin-bottom:5vh;\n \n`;\n\nconst ScrollContainer = styled.div`\n  width:100%;\n  height:60vh;\n  overflow:scroll;\n`;\n\nconst FirstModule = styled.div`\n  width:100%;\n  max-height:88vh;\n  // background-color:lightgrey;\n  box-shadow: 0px 10px 5px lightgrey;\n  margin-bottom:5vh;\n  overflow:scroll;\n  //padding-bottom:20vh;\n`;\n\nconst Circle = styled.div`\n  width:10vh;\n  height:10vh;\n  // background-color:#00BCD4;\n  margin:2vh auto;\n  border-radius:100vh;\n  border: solid 5px lightgrey\n`;\n\nconst CircleFull = styled.div`\n  width:10vh;\n  height:10vh;\n  background-color:#FFA40C;\n  margin:2vh auto;\n  border-radius:100vh;\n  border: solid 5px #FFA40C\n`;\n\nconst CircleEnabled = styled.div`\n  width:10vh;\n  height:10vh;\n  // background-color:#00BCD4;\n  margin:2vh auto;\n  border-radius:100vh;\n  border: solid 5px #FFA40C\n`;\n\n\nconst Title = styled.h1`\n  font-size: 5vh\n  margin: 2vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900;\ncolor:black;\n`;\n\nconst TitleDisabled = styled.h1`\n  font-size: 5vh\n  margin: 2vh auto;\nfont-family: \"Nunito\";\nfont-weight: 900;\ncolor:lightgrey;\n`;\n\n\n\n\n\n\n\n\nexport default class TestView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      storyIndex: 0\n    };\n  }\n\n\n\n  render() {\n    return (\n      <div>\n        <HeaderContainer>\n          <Header></Header>\n          <SubHeader></SubHeader>\n        </HeaderContainer>\n        <ModuleContainer>\n          <FirstModule>\n            <PlaceHolder></PlaceHolder>\n            <Title>Module 1</Title>\n            <ScrollContainer>\n            <CircleFull></CircleFull>\n            <CircleEnabled></CircleEnabled>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            </ScrollContainer>\n          </FirstModule>\n\n          <Module>\n            <TitleDisabled>Module 2</TitleDisabled>\n            <ScrollContainer>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            </ScrollContainer>\n          </Module>\n\n          {/* <Module>\n            <TitleDisabled>Module 3</TitleDisabled>\n            <ScrollContainer>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            <Circle></Circle>\n            </ScrollContainer>\n          </Module> */}\n          \n\n        </ModuleContainer>\n      </div>\n    )\n    return null;\n  }\n}\n\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\n\nimport {theme} from \"../colorTheme\"\nimport {isGibberish} from \"../utils.js\"\nimport { runInThisContext } from \"vm\";\n\n\n// import {devices} from \"../devices\";\n\nconst Wrapper = styled.div`\n  position:relative;\n  display:flex;  \n  margin:1vw;\n`;\n\nconst P = styled.p`\n  text-align:left; \n  margin:1vw;\n`;\n\nconst LeftWrapper = styled.div`\n  margin:auto 1vw;\n  padding:2vw;\n  // border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:30vw;\n  overflow:scroll;\n`;\n\nconst RightWrapper = styled.div`\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:68vw;\n\n  overflow:scroll;\n`;\n\nconst DroneListItem = styled.div`\n  margin:1vw;\n  padding:1vw;\n  border-radius: 0.5vw;\n  border: solid 1px ${theme.primaryColor};\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\nconst ToggleButton = styled.div`\n  background-color: ${props => props.flagged?'red':'green'};\n  min-width:3vw;\n`;\n\nclass Data_Story extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFlagged:null\n  }\n  }\n\n  componentDidMount(){\n    this.setState({isFlagged:this.props.story.isFlagged})\n    this.catchGibberish();\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.story._id !== prevProps.story._id) {\n      this.setState({isFlagged:this.props.story.isFlagged})\n      this.catchGibberish();\n    }\n  }\n\n  catchGibberish(){\n    if(!this.state.isFlagged){\n      isGibberish(this.props.story.text, 20) && this.updateStory({isFlagged:true})\n    }\n  }\n  \n\nupdateStory(body) {\n    fetch('/stories/'+this.props.story._id,\n          {\n            method: 'PUT',\n            body:JSON.stringify(body),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n           this.setState({isFlagged:data.isFlagged})\n           }\n          );\n  }\n\n  render() {\n\n    if (this.state.isFlagged == null){\n      return null;\n    }\n    return (\n      \n      !(this.props.filter&&this.props.story.isFlagged)&&<Wrapper>\n        <ToggleButton \n        onClick={()=>this.updateStory({isFlagged:!this.state.isFlagged})}\n        flagged={this.state.isFlagged}></ToggleButton>\n        <P>{this.props.story.text}</P>\n        \n      </Wrapper>\n    )\n    \n  }\n}\n\nexport default Data_Story;\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\n\nimport {theme} from \"../colorTheme\"\nimport {isGibberish} from \"../utils.js\"\nimport { runInThisContext } from \"vm\";\n\n\n// import {devices} from \"../devices\";\n\nconst Wrapper = styled.div`\n  position:relative;\n  display:flex;  \n  margin:1vw;\n  border: solid 1px ${theme.primaryColor};\n`;\n\nconst P = styled.p`\n  text-align:left; \n  margin:1vw;\n`;\n\nconst LeftWrapper = styled.div`\n  margin:auto 1vw;\n  padding:2vw;\n  // border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:30vw;\n  overflow:scroll;\n`;\n\nconst RightWrapper = styled.div`\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:68vw;\n\n  overflow:scroll;\n`;\n\nconst DroneListItem = styled.div`\n  margin:1vw;\n  padding:1vw;\n  border-radius: 0.5vw;\n  border: solid 1px ${theme.primaryColor};\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\nconst ToggleButton = styled.div`\n  background-color: ${props => props.flagged?'red':'green'};\n  min-width:3vw;\n`;\n\nclass Data_Feature extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFlagged:null\n  }\n  }\n\n  componentDidMount(){\n    this.setState({isFlagged:this.props.feature.isFlagged})\n    this.catchGibberish();\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.feature._id !== prevProps.feature._id) {\n      this.setState({isFlagged:this.props.feature.isFlagged})\n      this.catchGibberish();\n    }\n  }\n\n  catchGibberish(){\n    if(!this.state.isFlagged){\n      isGibberish(this.props.feature.description, 5) && this.updateFeature({isFlagged:true})\n    }\n  }\n  \n\nupdateFeature(body) {\n    fetch('/features/'+this.props.feature._id,\n          {\n            method: 'PUT',\n            body:JSON.stringify(body),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            \n           this.setState({isFlagged:data.isFlagged})\n           }\n          );\n  }\n\n  render() {\n\n    if (this.state.isFlagged == null){\n      return null;\n    }\n    return (\n      !(this.props.filter&&this.props.feature.isFlagged)&&this.props.feature.title && this.props.feature.description&&<Wrapper>\n        <ToggleButton \n        onClick={()=>this.updateFeature({isFlagged:!this.state.isFlagged})}\n        flagged={this.state.isFlagged}></ToggleButton>\n        <P><strong>{this.props.feature.title}</strong> {\":\"+ this.props.feature.description}</P>\n        \n      </Wrapper>\n    )\n    \n  }\n}\n\nexport default Data_Feature;\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\n\nimport {theme} from \"../colorTheme\"\nimport {isGibberish} from \"../utils.js\"\nimport { runInThisContext } from \"vm\";\n\nimport Story from \"./Data_Story\"\nimport Feature from \"./Data_Feature\"\n\n\n// import {devices} from \"../devices\";\n\nconst Wrapper = styled.div`\n  position:relative;\n  display:flex;  \n  height:95vh;\n  width:100vw;\n`;\n\nconst LeftWrapper = styled.div`\n  margin:auto 1vw;\n  padding:2vw;\n  // border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:30vw;\n  overflow:scroll;\n`;\n\nconst RightWrapper = styled.div`\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:68vw;\n\n  overflow:scroll;\n`;\n\nconst DroneListItem = styled.div`\n  margin:1vw;\n  padding:1vw;\n  border-radius: 0.5vw;\n  border: solid 1px ${theme.primaryColor};\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\nconst ToggleButton = styled.div`\n  background-color: ${props => props.flagged?'red':'green'};\n`;\n\nclass Data_Drone extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFlagged:this.props.drone.isFlagged\n    };\n  }\n\n  componentDidUpdate(){\n    //this.setState({isFlagged:this.props.drone.isFlagged})\n  }\n  \n\nupdateDrone(body) {\n    fetch('/drones/'+this.props.drone._id,\n          {\n            method: 'PUT',\n            body:JSON.stringify(body),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n           this.setState({isFlagged:data.isFlagged})\n           this.props.drone.isFlagged = data.isFlagged\n           }\n          );\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>{this.props.drone.name}</h2>\n        <p>{JSON.stringify(this.props.drone.createdBy)}</p>\n        {/* <ToggleButton \n        flagged={this.props.drone.isFlagged}>{this.props.drone.isFlagged? 'Containes Gibberish' : 'No Gibberish'}</ToggleButton> */}\n        {this.props.drone.features.map((item, key)=>\n            // <p><strong>{item.title}</strong> : {item.description}</p>\n            <Feature feature={item}></Feature>\n        )}\n        {/* <p>{this.props.drone.mainStory && this.props.drone.mainStory.text}</p> */}\n        {this.props.drone.mainStory && <Story filter ={this.props.filter} story={this.props.drone.mainStory}></Story>}\n\n        {this.props.drone.subStories.map((item, key)=>\n          <Story filter ={this.props.filter} story={item}></Story>\n        )}\n        \n      </div>\n    )\n    \n  }\n\n\n\n  \n\n}\n\nexport default Data_Drone;\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport Drone from \"./Data_Drone\";\nimport {isGibberish} from \"../utils.js\";\n\n\n\nimport {theme} from \"../colorTheme\"\nimport { CSVLink, CSVDownload } from \"react-csv\";\nimport { doesNotReject } from \"assert\";\n\n\n// import {devices} from \"../devices\";\n\nconst Wrapper = styled.div`\n  position:relative;\n  display:flex;  \n  height:80vh;\n  width:100vw;\n  margin:5vh 0;\n  padding-bottom:5vh\n`;\n\nconst DroneWrapper = styled.div`\n  display:flex;  \n`;\n\nconst ToggleButton = styled.div`\n  background-color: ${props => props.flagged?'red':'green'};\n  padding:1vw;\n  margin:1vw;\n`;\n\nconst FilterButton = styled.div`\n  \n  background-color:yellow;\n  position:absolute;\n  z-index:100;\n  top:0;\n  right:0;\n  width:20vw;\n  height:3vw;\n\n`;\n\nconst LeftWrapper = styled.div`\n  margin:auto 1vw;\n  padding:2vw;\n  // border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:30vw;\n  overflow:scroll;\n`;\n\nconst RightWrapper = styled.div`\n  margin:auto 1vw;\n  padding:1vw;\n  border-radius:2vw;\n  // border: solid 1px ${theme.primaryColor};\n  \n  height:95vh;\n  width:68vw;\n  overflow:scroll;\n`;\n\nconst DroneListItem = styled.div`\n  margin:1vw;\n  padding:1vw;\n  border-radius: 0.5vw;\n  border: solid 1px ${theme.primaryColor};\n\n  &:hover{\n    transform: scale(1.04);\n\n  }\n`;\n\n\nconst DroneImage = styled.img`\n  height: 30vw;\n  width: 30vw;\n  max-height:85vh;\n  max-width:85vh;\n  margin: auto;\n  margin-left:2vw\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nheight: 25vw;\n  width: 25vw;\n  max-height:85vh;\n  max-width:85vh;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\nmargin:auto;\n`;\n\nconst DroneName = styled.h2`\nfont-size: 2.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:center;\n`;\n\nconst StoryWrapper = styled.div`\nwidth: 40vw;\noverflow:scroll;\n`;\n\nconst MainStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  height:auto;\n  margin-top:2vh;\n  width: 35vw;\n  border-radius:1vw;\n   border: solid 1px ${theme.primaryColor};\n   padding:2vw;\n`;\n\nconst SubStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  width:35vw;\n  background-color:#D9D9D9;\n  margin: 2vh 0;\n  border-radius: 1vw;\n  padding:1vw 2vw;\n`;\n\nconst WriteButton = styled.button`\nborder-radius:.8vw;\nborder: solid 2px #ffffff;\nbackground-color:${theme.secondaryColor};\nheight:3vw;\nmin-width:15vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\noverflow:scroll;\npadding:0.5vw;\nmargin: 2vh auto;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:#ffffff;\noutline:none;\n`;\n\nconst appear = keyframes`\n  from {\n      opacity: 0;\n      \n  }\n  to {\n      opacity: 1;\n      \n  }\n`\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  background-color: #D9D9D9;\n  border: solid 1px #BABABA;\n  margin: 5vh auto;\n  border-radius: 1vw;\n  animation: ${appear} 1s ease;\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 1.3vw\nfont-family: \"Nunito\";\nfont-weight: 500\nwidth:35vw;\nheight: 30vh;\nbackground-color:#D9D9D9;\nresize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n \n  font-family: \"Roboto\";\n  font-weight: 700;\n  padding:2vw;\n \n  text-align:center;\n`;\n\nconst AutoSave = styled.p`\nfont-size: 1vw\nfont-family: \"Nunito\";\nfont-weight: 500;\ntext-align:right;\nmargin-right:1vw;\ncolor:#008920\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\n\n\n\nconst csvData = [\n  [\"firstname\", \"lastname\", \"email\"],\n  [\"Ahmed\", \"Tomi\", \"ah@smthing.co.com\"],\n  [\"Raed\", \"Labes\", \"rl@smthing.co.com\"],\n  [\"Yezzi\", \"Min l3b\", \"ymin@cocococo.com\"]\n];\n\n\nclass DataView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      drones:null,\n      selectedDrone:null,\n      filter:false,\n      dronesCSV:[]\n    };\n  }\n  componentDidMount() {\n\n    fetch('/drones/',\n          {\n            method: 'GET',\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            let i = 0;\n            data.forEach(drone => {\n              if (!drone.isFlagged && (isGibberish(drone.name,5) || isGibberish(drone.mainStory.text,15))){\n                \n                this.updateDrone({isFlagged:true},drone._id,i)\n              }\n              //else this.updateDrone({isFlagged:false},drone._id)\n              i++;\n            });\n            this.setState({drones:data})\n            this.populateDroneCSV();\n           }\n           \n          );\n\n          \n  }\n\n  populateDroneCSV(){\n    let dronesCSV = []\n  \n    this.state.drones.forEach(drone => {\n      if (!drone.isFlagged){\n        let subStories = \"\"\n        let features = \"\"\n        drone.features.forEach(feature =>{\n          features += feature.title +\":\"+feature.description+\"\\n\"\n        })\n\n        drone.subStories.forEach(story =>{\n          if(!story.isFlagged){\n          subStories += \" \"+story.text +\"\\n\"\n          }\n        })\n\n        let droneObj = {\n          id:drone._id,\n          name:drone.name, \n          superPowers: features, \n          mainStory:drone.mainStory.text, \n          subStories: subStories,\n          createdDate: drone.createdDate,\n          createdBy: JSON.stringify(drone.createdBy)\n        }\n        dronesCSV.push(droneObj)\n      }\n    });\n    this.setState({dronesCSV:dronesCSV})\n  }\n\n  updateDrone(body,id,key) {\n    fetch('/drones/'+id,\n          {\n            method: 'PUT',\n            body:JSON.stringify(body),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n          let drones =  this.state.drones;\n          drones[key].isFlagged = data.isFlagged;\n          this.setState({drones:drones})\n          this.populateDroneCSV();\n           }\n          );\n  }\n\n \n\n  render() {\n    if (this.state.drones == null) return null;\n    return (\n      <div>\n        <CSVLink \n        data={this.state.dronesCSV}\n        filename={\"drone_data.csv\"}\n        >Download CSV</CSVLink>\n        <FilterButton onClick={()=>this.setState({filter:!this.state.filter})}>{this.state.filter?'Turn Off Gib Filter' : 'Turn On Gib Filter'}</FilterButton>\n     \n      <Wrapper>\n        <LeftWrapper>\n          {this.state.drones.slice(0).reverse().map((item, key) => \n          !(this.state.filter&&item.isFlagged)&&<DroneWrapper><ToggleButton onClick={()=>this.updateDrone({isFlagged:!item.isFlagged},item._id,this.state.drones.length-key-1)} flagged={item.isFlagged}></ToggleButton><DroneListItem onClick={()=> {this.setState({selectedDrone:item})}}>{item._id +\": \"+item.name}</DroneListItem></DroneWrapper>)}\n        </LeftWrapper>\n        <RightWrapper>\n        {(this.state.selectedDrone != null) && <Drone filter ={this.state.filter} drone={this.state.selectedDrone}></Drone>}\n        </RightWrapper>\n      </Wrapper>\n      </div>\n    )\n    \n  }\n\n\n\n  \n\n}\n\nexport default DataView;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"./Feature\";\nimport DroneStory from \"./DroneStory\"\nimport LoadingWidget from \"./LoadingWidget\"\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\nimport {isGibberish} from \"../utils.js\"\nimport {devices} from \"../devices.js\"\n\n\n\nimport {theme} from \"../colorTheme\";\nimport logo from '../drone.png';\n\nconst Wrapper = styled.div`\n  width:100%;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height: 12vh;\n  // background-color: ${theme.primaryColor};\n  background-color: white;\n  z-index:100;\n  position:fixed;\n  top:0;\n  \n`;\n\nconst HeaderText = styled.h2`\nfont-size:3vh;\nwidth:80vw;\ntext-align:left;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor:#ffffff;\nmargin:auto 5vw;\nletter-spacing: 0.1px\n`;\n\nconst ContentWrapper = styled.div`\n  margin:auto;\n  position:relative;\n  display:flex\n  justify-content:space-around;\n  height: 94vh;\n\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  margin:auto;\n`;\n\nconst DroneImage = styled.img`\n  height:40vw;\n  width:40vw;\n  max-height:85vh;\n  max-width:85vh;\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nmax-height:50vh;\nmax-width:30vh;\nbackground-color:yellow;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\n`;\n\n\nconst RowWrapper = styled.div`\n  display:flex\n  justify-content:space-around;\n  flex-direction:column;\n\n`;\n\nconst Row = styled.div`\n\n\n`;\n\nconst RowHeader = styled.h3`\nfont-size: 1.5vw\nmargin: auto ;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor: ${theme.primaryColor};\n`;\n\nconst CircleButton = styled.button`\nborder-radius:100%;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:${theme.secondaryColor};\nwidth:3vw;\nheight:3vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  transform:scale(1.1)\n\n}\nfont-size: 1.2vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:#ffffff;\noutline:none;\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n`;\n\n\nconst FeatureSet = styled.div`\n  width:100vw;\n  display:flex\n  justify-content:space-between;\n  margin:10px;\n`;\n\nconst OverlayFeatureSet = styled.div`\n  width:25vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst FeatureWrapper = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst DroneStroryWrpper = styled.div`\n  display:flex;\n  flex-direction:column;\n  justify-content:space-between;\n  \n  \n`;\n\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  width: 70vw;\n  min-height: 40vh;\n  background-color: #efefef;\n  margin: 5vh auto;\n  border-radius: 2vw;\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 2vw\nmargin: 5vh;\nfont-family: \"Nunito\";\nfont-weight: 500\ncolor:${theme.primaryColor};\nwidth: 60vw;\nheight: 30vh;\nbackground-color:#efefef;\nresize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n  margin: auto;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  padding:2vw;\n \n  text-align:center;\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst DotWrapper = styled.div`\n  width: 15vw;\n  height: 2vw;\n  margin:auto;\n  display:flex;\n  justify-content:space-around;\n`;\n\nconst Dot = styled.div`\n  width:1vw;\n  height:1vw;\n  background-color:${props => props.selected ? theme.secondaryColor : '#DCDCDC'};\n  border-radius:5vw;\n`;\n\nconst TitleText = styled.h1`\n  font-size: 2vw\n  margin:auto;\n  margin-top:15vh;\n  margin-bottom:3vh;\n\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\n\n@media ${devices.mobile} {\n  font-size:4.5vw;  \n}\n`;\n\nconst Message = styled.p`\nfont-size: 1.3vw\n \n  margin-bottom:1vh;\n  margin-top:2vh;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  // color:${theme.primaryColor};\n  text-align:center;\n  padding:0.5vw;\n`;\n\nconst CreateButton = styled.button`\nposition:absolute;\nright:2vh;\ntop:2vh;\nborder-radius:.8vw;\nborder: solid 2px #ffffff;\nbackground-color:${theme.secondaryColor};\nmin-width:15vw;\nheight:8vh;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\noverflow:scroll;\npadding:0.5vw;\nfont-size: 1.5vw;\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:#ffffff;\noutline:none;\n\n@media ${devices.mobile} {\n  font-size: 4vw;\n  width:auto;\n  height:auto;\n  padding:4vw 2vw;\n}\n\n`;\n\n\n\n\nconst STORY_PLACEHOLDER = \"Add your story\";\n\nconst STORY_PROMPT = \"Add your own story about this drone. Where does it fly? What does it do there and why?\"\n\nconst DRONE_SET_SIZE = 3;\nconst VISIBLE_DRONES_COUNT = 1;\n\nconst LEFT_FACTOR = 26;\nconst TOP_FACTOR = 13;\nconst LEFT_0 = 6.5;\nconst TOP_0 = 6.5;\n\nvar dronePool = [];\n\nclass AllStoriesView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visiblefeatureIndex: 0,\n      visibleFetures: [],\n      droneSet: [],\n      selectedFetures: [],\n      drone: null,\n      droneStory: \"\",\n      droneStoryPlaceholder: STORY_PLACEHOLDER,\n      position: -1,\n      renderStoryInput: false,\n      createButtonText:\"+ Create your own dream drone\"\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\"\n    window.scrollTo(0, 0)\n\n    \n    //fetch features, populate the feature pool, populate featureset\n    fetch(\"/random/drones/99\")\n      .then(response => response.json())\n      .then(data => {\n        for (var i = 0; i < data.length; i++) {\n          fetch(\"/drones/\" + data[i]._id)\n            .then(response => response.json())\n            .then(data => {\n              \n              !data.isFlagged && data.name && !isGibberish(data.name,5)&&dronePool.push(data);\n\n              if(dronePool.length>DRONE_SET_SIZE){\n                this.setDroneSet(DRONE_SET_SIZE)\n              }\n            });\n        }\n        \n      });\n\n    //fetch the drone data using id\n    // fetch(\"/drones/\" + this.props.match.params.id)\n    //   .then(response => response.json())\n    //   .then(data => {\n    //     this.setState({ drone: data });\n    //   });\n\n      \n  }\n\n  // updateDrone() {\n  //   fetch('/drones/' + this.state.drone._id,\n  //     {\n  //       method: 'PUT',\n  //       body: JSON.stringify(this.state.drone),\n  //       headers: {\n  //         'Accept': 'application/json, text/plain, */*',\n  //         'Content-Type': 'application/json',\n  //         'Mode': \"CORS\"\n  //       }\n  //     }).then(response => response.json())\n  //     .then(data => { console.log(data) }\n  //     );\n  // }\n\n  render() {\n\n    \n    // if (this.state.drone == null) return <LoadingWidget></LoadingWidget>;\n\n    if(!this.state.droneSet.length>0) return <LoadingWidget></LoadingWidget>;\n    return (\n      <Wrapper>\n        {this.props.match.params.user_id == undefined &&<Header>\n        <CreateButton onClick={()=>this.createButton()}> {this.state.createButtonText}</CreateButton>\n          </Header>}\n\n          {this.props.match.params.user_id ? <TitleText>Thanks Again! See more drone stories below. You can still add your own stories to them!</TitleText>:<TitleText>Browse through what others created and add your own stories to them!</TitleText>}\n        {/* <Message>You can add your own stories to someone else's dream drone! </Message> */}\n        <ContentWrapper>\n                <DroneStroryWrpper>\n                  {this.state.droneSet.map((item, key) =>\n                    <DroneStory drone={item}\n                      index={this.state.visiblefeatureIndex + key}\n                      callback={this.writeCallbackHandler.bind(this)}\n                      selected={this.state.position == key}\n                      disabled={this.state.position >= 0 || this.state.position != key}\n                    ></DroneStory>\n                    , this)}\n                </DroneStroryWrpper>\n\n        </ContentWrapper>\n      </Wrapper>\n    )\n  }\n\n  createButton() {\n    this.setState({createButtonText:\"Setting up...\"})\n    fetch('/users/',\n      {\n        method: 'POST',\n        body: JSON.stringify({\n        }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        fetch('/drones/',\n          {\n            method: 'POST',\n            body: JSON.stringify({createdBy:data._id}),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            console.log(data);\n            this.props.history.push('../superpowers/' + data._id);\n          }\n          );\n\n      }\n      );\n  }\n\n  writeCallbackHandler() {\n\n  }\n\n  onDroneStoryChange(ev) {\n    this.setState({ droneStory: ev.target.value });\n  }\n\n\n  handleNextClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index + VISIBLE_DRONES_COUNT) < this.state.droneSet.length) {\n      this.setState({ visiblefeatureIndex: (index + VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  handlePreviousClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index - VISIBLE_DRONES_COUNT) >= 0) {\n      this.setState({ visiblefeatureIndex: (index - VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  setDroneSet(length) {\n \n    var droneSet = [];\n    //droneSet = dronePool.splice(0, length)\n    droneSet = dronePool;\n    this.setState({ droneSet: droneSet });\n  }\n\n\n  renderScrollDots() {\n    let dots = []\n    let selected = false;\n    let index = this.state.visiblefeatureIndex;\n\n\n    for (let i = 0; i < DRONE_SET_SIZE / VISIBLE_DRONES_COUNT; i++) {\n      selected = i == index / VISIBLE_DRONES_COUNT;\n      dots.push(<Dot selected={selected}></Dot>)\n    }\n    return dots;\n  }\n\n\n\n\n\n\n}\n\nexport default AllStoriesView;\n","import React, { Component } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport Feature from \"./ReadOnlyFeature\"\n\nimport logo from '../drone.png';\n\nimport { isGibberish } from \"../utils.js\"\n\nimport { theme } from \"../colorTheme\"\n\nimport { devices } from \"../devices\";\n\nconst MainWrapper = styled.div`\nwidth:100%;\ndisplay:flex;\njustify-content:space-around;\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  padding:1vw;\n  border-radius:2vw;\n  // border: solid 2px ${theme.primaryColor};\n  transition: transform .8s;\n //background-color:yellow;\n  width:48%;\n  height:90vh;\n  overflow:scroll;\n\n   @media ${devices.mobile} {\n    flex-direction:column;\n    height:auto;\n    width:70vw;\n    margin:3vw auto;\n  }\n`;\n\nconst ReactionsWrapper = styled.div`\n  padding:1vw;\n  border-radius:2vw;\n  transition: transform .8s;\n //background-color:yellow;\n  width:48%;\n  height:auto;\n\n   @media ${devices.mobile} {\n    flex-direction:column;\n    height:auto;\n    width:70vw;\n    margin:3vw auto;\n  }\n`;\n\nconst DroneImage = styled.img`\n  height: 30vw;\n  width: 30vw;\n  max-height:85vh;\n  max-width:85vh;\n  margin: auto;\n  \n\n  @media ${devices.mobile} {\n    height:65vw;\n    width:65vw;\n    max-height:75vh;\n    max-width:75vh;\n    margin-top:2vh;\n  }\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nheight: 25vw;\n  width: 25vw;\n  max-height:85vh;\n  max-width:85vh;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\nmargin:auto;\n`;\n\nconst DroneName = styled.h2`\nfont-size: 2.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:center;\n  margin:auto;\n\n  @media ${devices.mobile} {\n    font-size: 5vw;\n  }\n`;\n\nconst StoryWrapper = styled.div`\nwidth: 40vw;\noverflow:scroll;\nmargin:auto;\n\n@media ${devices.mobile} {\n  height:auto;\n  width:70vw;\n  max-height:75vh;\n  max-width:75vh;\n  margin:auto;\n\n\n}\n`;\n\nconst MainStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  height:auto;\n  margin-top:2vh;\n  width: 35vw;\n  border-radius:1vw;\n   border: solid 1px ${theme.primaryColor};\n   padding:2vw;\n\n   @media ${devices.mobile} {\n    width: 60vw;\n    margin:auto;\n    font-size: 3vw;\n    padding:1vw;\n  }\n`;\n\nconst SubStory = styled.div`\n  font-size: 1.2vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  resize: none;\n  resize: none;\n  border: none;\n  outline: none;\n  text-align:center;\n  width:35vw;\n  background-color:#D9D9D9;\n  margin: 2vh 0;\n  border-radius: 1vw;\n  padding:1vw 2vw;\n\n  @media ${devices.mobile} {\n    width: 60vw;\n    margin:auto;\n    font-size: 3vw;\n    padding:1vw;\n  }\n`;\n\nconst WriteButton = styled.button`\nborder-radius:.8vw;\nborder: solid 2px #ffffff;\nbackground-color:${theme.secondaryColor};\nheight:3vw;\nmin-width:15vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\noverflow:scroll;\npadding:0.5vw;\nmargin: 2vh auto;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:#ffffff;\noutline:none;\n\n@media ${devices.mobile} {\n  width: auto;\n  height:auto;\n  max-height:none;\n  margin:2vw auto;\n  font-size: 5vw;\n  padding:2vw;\n}\n`;\n\nconst appear = keyframes`\n  from {\n      opacity: 0;\n      \n  }\n  to {\n      opacity: 1;\n      \n  }\n`\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  background-color: #D9D9D9;\n  border: solid 1px #BABABA;\n  margin: 5vh auto;\n  border-radius: 1vw;\n  animation: ${appear} 1s ease;\n\n  @media ${devices.mobile} {\n    width: 60vw;\n    margin:5vw auto;\n    font-size: 3vw;\n    padding:1vw;\n  }\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 1.3vw\nfont-family: \"Nunito\";\nfont-weight: 500\nwidth:40vw;\nheight: 12vh;\nresize: none;\nborder: none;\noverflow: auto;\noutline: none;\ndisplay:block;\nborder-radius:1vw;\nborder: solid 1px ${theme.secondaryColor};\npadding:2vw;\nmargin:1.5vw auto;\n\n@media ${devices.mobile} {\n\n    font-size: 3vw;\n\n  }\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n \n  font-family: \"Roboto\";\n  font-weight: 700;\n  padding:2vw;\n \n  text-align:center;\n\n  @media ${devices.mobile} {\n    \n    font-size: 3vw;\n\n  }\n`;\n\nconst AutoSave = styled.p`\nfont-size: 1vw\nfont-family: \"Nunito\";\nfont-weight: 500;\ntext-align:right;\nmargin-right:1vw;\ncolor:#008920\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst PromptContainer = styled.div`\nwidth: 100vw;\nmargin:auto;\n\n\n@media ${devices.mobile} {\n  font-size: 3vw\n  width:90vw;\n  margin:auto;\n}\n`;\n\nconst Prompt = styled.p`\n  font-size: 1.3vw\n  margin-bottom:1vh;\n  margin-top:5vh;\n  font-family: \"Roboto\";\n  font-weight: 500;\n  color:${theme.primaryColor};\n  text-align:left;\n  width:45vw;\n  animation: ${appear} 1s ease;\n\n\n  @media ${devices.mobile} {\n    font-size: 3vw\n  }\n`;\n\nconst TextField = styled.input`\n  font-size: 1.2vw;\n  width: 15vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:left;\n  border-radius:1vw;\n  border: solid 1px ${theme.secondaryColor};\n  outline:none;\n  height: 3vw;\n  text-align:center;\n  margin-top:2vh;\n\n  @media ${devices.mobile} {\n      width: 40vw;\n      font-size: 3vw\n      height: 7vw;\n  \n    \n  }\n\n`;\n\nconst SingleTextField = styled.input`\n  font-size: 1.2vw;\n  width: 15vw;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  text-align:left;\n  border-radius:0.6vw;\n  border: solid 1px ${theme.secondaryColor};\n  outline:none;\n  height: 3vw;\n\n  width: 49vw;\n  height: 3vw;\n  padding: 1vh;\n\n  @media ${devices.mobile} {\n    width: 90vw;\n    font-size: 3vw\n    height: 7vw;\n\n  }\n`;\n\nconst SelectionButton = styled.button`\nborder-radius:.8vw;\nborder: solid 2px ${theme.secondaryColor};\nbackground-color:${props => props.selected == 1 ? theme.secondaryColor : '#FFFFFF'};\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\noverflow:scroll;\nfont-size: 1.2vw\nfont-family: \"Nunito\";\nfont-weight: 700\ncolor:${props => props.selected == 1 ? '#FFFFFF' : theme.secondaryColor};\noutline:none;\nmargin:1vw;\npadding:1vw;\n\n&:hover{\n  transform: scale(1.04);\n\n}\n\n\n@media ${devices.mobile} {\n  width: auto;\n  height:auto;\n  max-height:none;\n  margin:2vw auto;\n  font-size: 5vw;\n  padding:2vw;\n}\n`;\n\nconst ButtonRow = styled.div`\ndiplay:flex;\njustify-content: space-around;\n`;\n\nconst Dummy = styled.div``;\n\nconst MAIN_PROMPT = \"Would you like to see this drone (or similar) being implemented in the future?\"\n\nconst SUB_PROMPTS = [\n  \"Tell us why you do like to see this drone being implemented?\",\n  \"Tell us how would you like to modify this drone?\",\n  \"Tell us why you do not like to see this drone being implemented?\"\n];\n\nconst CHOICES = [\n  \"Yes, of course\",\n  \"Yes, with some modifications\",\n  \"Not at all\"\n];\n\nconst SECONDARY_PROMPT = \"Do you see any intended or unintended consequences of this drone that might cause adverse effects in the Future? Please share below.\"\n\n\n\nconst STORY_PLACEHOLDER = \"Add your story\";\n\nconst STORY_PROMPT = \"Add your own story about this drone. Where does it fly? What does it do there and why?\"\n\nvar LEFT_FACTOR = 25;\nvar TOP_FACTOR = 13;\nvar LEFT_0 = 13.4;\nvar TOP_0 = 4.4;\n\nvar characterInputCount = 0;\n\nclass DroneStory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      small: !props.selected,\n      newSubStoryID: null,\n      storyZoom: false,\n      renderStoryInput: false,\n      droneStory: \"\",\n      newStories: {},\n      autoSave: \"\",\n      reaction: {\n        selection: -1,\n        subText: \"\",\n        secondaryText: \"\"\n      }\n    };\n  }\n  componentDidMount() {\n\n  }\n\n  componentDidUpdate() {\n    if (window.innerWidth < 800) {\n      LEFT_FACTOR = 60;\n      TOP_FACTOR = 28;\n      LEFT_0 = 7.2;\n      TOP_0 = 9.6;\n    }\n    if (this.state.renderStoryInput) {\n      this.end.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }\n\n  componentWillReceiveProps() {\n    if (window.innerWidth < 800) {\n      LEFT_FACTOR = 60;\n      TOP_FACTOR = 28;\n      LEFT_0 = 7.2;\n      TOP_0 = 9.6;\n    }\n    this.setState({ renderStoryInput: false, newSubStoryID: null, autoSave: \"≥\" })\n  }\n\n  render() {\n    if (window.innerWidth < 800) {\n      LEFT_FACTOR = 60;\n      TOP_FACTOR = 28;\n      LEFT_0 = 7.2;\n      TOP_0 = 9.6;\n    }\n    return (\n      <MainWrapper>\n        <DroneWrapper ref=\"wrapper\"\n          small={this.state.small}\n          onBlur={() => this.updateSubStory()}\n        >\n          <DroneImage\n            small={this.state.small} src={logo} alt=\"logo\" ></DroneImage>\n          <Overlay small={this.state.small}>\n            {this.props.drone.features.map((item, key) =>\n              <FixedFeatureWrapper\n                top={TOP_0 + TOP_FACTOR * (key - (key % 2)) / 2}\n                left={LEFT_0 + LEFT_FACTOR * (key % 2) / 2}\n              >\n                <Feature title={item.title} description={item.description} index={key}></Feature>\n              </FixedFeatureWrapper>\n            )}\n          </Overlay>\n          <StoryWrapper>\n            <DroneName>{this.props.drone.name}</DroneName>\n            <MainStory>{this.props.drone.mainStory ? this.props.drone.mainStory.text : \"\"}</MainStory>\n\n\n            {/* {!this.state.renderStoryInput && <WriteButton onClick={() => { this.setState({ renderStoryInput: true }) }}>Add a story</WriteButton>} */}\n\n            {/* {this.state.renderStoryInput && <StoryInputWrapper ref={(el) => { this.end = el; }}> */}\n              {/* <StoryPrompt>{STORY_PROMPT}</StoryPrompt> */}\n              {/* <StoryInput\n                placeholder={STORY_PLACEHOLDER}\n                onBlur={(ev) => { this.updateSubStory() }}\n                value={this.state.newStories[this.props.drone._id]}\n                onChange={(ev) => this.onDroneStoryChange(ev)}>\n              </StoryInput> */}\n              {/* <Arrow position={this.state.position}></Arrow> */}\n              {/* <AutoSave>{this.state.autoSave}</AutoSave> */}\n            {/* </StoryInputWrapper>} */}\n          </StoryWrapper>\n        </DroneWrapper>\n        <ReactionsWrapper>\n          <PromptContainer>\n            <Prompt>\n              {MAIN_PROMPT}\n              <ButtonRow>\n                {CHOICES.map((item, key) =>\n                  <SelectionButton\n                    selected={this.state.reaction.selection == key ? 1 : 0}\n                    onClick={() => this.handleSelectionChange(key)}\n                  >{item}</SelectionButton>\n                )}\n              </ButtonRow>\n            </Prompt>\n            {this.state.reaction.selection >-1 &&<Prompt>\n              {SUB_PROMPTS[this.state.reaction.selection]}\n              <StoryInput></StoryInput>\n            </Prompt>}\n            {this.state.reaction.selection >-1 &&<Prompt>\n              {SECONDARY_PROMPT}\n              <StoryInput></StoryInput>\n            </Prompt>}\n          </PromptContainer>\n        </ReactionsWrapper>\n\n      </MainWrapper>\n    )\n    return null;\n  }\n\n  handleSelectionChange(index) {\n    var reaction = this.state.reaction;\n    reaction.selection = index;\n    this.setState({ reaction: reaction });\n  }\n\n  onDroneStoryChange(ev) {\n\n    characterInputCount++;\n    this.setState({ droneStory: ev.target.value });\n    var newStories = this.state.newStories;\n    newStories[this.props.drone._id] = ev.target.value\n    this.setState({ newStories: newStories });\n    if (!ev.target.value) {\n      this.setState({ autoSave: \"\" })\n      this.updateSubStory();\n    }\n    if (characterInputCount > 10) {\n      characterInputCount = 0;\n      this.setState({ autoSave: \"Auto Saving...\" })\n      this.updateSubStory();\n    }\n  }\n\n\n  updateSubStory() {\n    if (this.state.newStories[this.props.drone._id]) {\n      if (this.state.newSubStoryID != null) {\n        fetch('/stories/' + this.state.newSubStoryID,\n          {\n            method: 'PUT',\n            body: JSON.stringify({ text: this.state.droneStory }),\n            headers: {\n              'Accept': 'application/json, text/plain, */*',\n              'Content-Type': 'application/json',\n              'Mode': \"CORS\"\n            }\n          }).then(response => response.json())\n          .then(data => {\n            this.setState({ autoSave: \"Auto Saved\" })\n          }\n          );\n      } else {\n        this.createNewStory()\n      }\n    }\n  }\n\n  createNewStory() {\n    fetch('/stories/',\n      {\n        method: 'POST',\n        body: JSON.stringify({ text: this.state.droneStory }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n        if (!data._id) {\n          return;\n        }\n        this.setState({ newSubStoryID: data._id });\n        var drone = this.props.drone;\n        if (!drone.subStories) {\n          drone.subStories = [data._id];\n        } else {\n          drone.subStories.push(data._id)\n        }\n        this.setState({ autoSave: \"Auto Saved\" })\n        this.updateDrone(drone)\n      }\n      );\n  }\n\n  updateDrone(drone) {\n    fetch('/drones/' + drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => {\n\n      }\n      );\n\n  }\n\n\n\n\n\n\n}\n\nexport default DroneStory;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"./Feature\";\nimport DroneStory from \"./DroneStory_React\"\nimport LoadingWidget from \"./LoadingWidget\"\nimport { FiChevronLeft, FiChevronRight } from \"react-icons/fi\";\nimport {isGibberish} from \"../utils.js\"\nimport {devices} from \"../devices.js\"\n\n\nimport {theme} from \"../colorTheme\";\nimport logo from '../drone.png';\n\nconst Wrapper = styled.div`\n  width:100%;\n`;\n\nconst Header = styled.div`\n  width:100%;\n  height: 6vh;\n  background-color: ${theme.primaryColor};\n  display:flex;\n  justify-content:space-around;\n  z-index:100;\n\n  @media ${devices.mobile} {\n    height: auto;\n  }\n  \n`;\n\nconst HeaderText = styled.h2`\nfont-size:3vh;\nwidth:80vw;\ntext-align:left;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor:#ffffff;\nmargin:auto 5vw;\nletter-spacing: 0.1px\n\n@media ${devices.mobile} {\n  font-size:4vw;\n  width:60vw;\n  text-align:left;\n  font-family: 'Nunito';\n  font-weight:700;\n  color:#ffffff;\n  margin:1vw;\n  letter-spacing: 0.1px\n  padding:2vw;\n}\n\n`;\n\nconst ContentWrapper = styled.div`\n  position:relative;\n  margin:auto;\n  position:relative;\n  display:flex\n  justify-content:space-around;\n  height:auto;\n\n  @media ${devices.mobile} {\n    flex-direction:column;\n    height:auto;\n  }\n\n`;\n\nconst DroneWrapper = styled.div`\n  position:relative;\n  margin:auto;\n`;\n\nconst DroneImage = styled.img`\n  height:40vw;\n  width:40vw;\n  max-height:85vh;\n  max-width:85vh;\n\n  @media ${devices.mobile} {\n    height:80vw;\n    width:80vw;\n    max-height:75vh;\n    max-width:75vh;\n    margin-top:2vh;\n  }\n`;\n\nconst Overlay = styled.div`\nposition:absolute;\ntop:0;\nleft:0;\nmax-height:50vh;\nmax-width:30vh;\nbackground-color:yellow;\n`;\n\nconst FixedFeatureWrapper = styled.div`\nposition:absolute;\ntop: ${props => props.top}vw;\nleft: ${props => props.left}vw;\n`;\n\n\nconst RowWrapper = styled.div`\n  display:flex\n  justify-content:space-around;\n  flex-direction:column;\n\n  @media ${devices.mobile} {\n    margin:auto;\n  }\n\n`;\n\nconst Row = styled.div`\n@media ${devices.mobile} {\n  width:95vw;\n}\n\n`;\n\nconst RowHeader = styled.h3`\nfont-size: 1.5vw\nmargin: auto ;\nfont-family: 'Nunito';\nfont-weight:700;\ncolor: ${theme.primaryColor};\n\n@media ${devices.mobile} {\n  padding-top:4vw;\n  font-size: 5vw;\n}\n`;\n\nconst CircleButton = styled.button`\nborder-radius:100%;\nborder: solid 1px ${theme.secondaryColor};\nbackground-color:${theme.secondaryColor};\nwidth:3vw;\nheight:3vw;\nmax-height:3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  transform:scale(1.1)\n\n}\nfont-size: 1.2vw\nmargin: auto;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:#ffffff;\noutline:none;\n\n@media ${devices.mobile} {\n  width:8vw;\n  height:8vw;\n  max-height:8vw;\n  font-size: 5vw\n}\n\n`;\n\nconst Button = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n\n@media ${devices.mobile} {\n  width:20vw;;\n  height:auto;\n  max-height:10vw;\n  font-size: 4vw\n  \n}\n\n`;\n\n\nconst RefreshButton = styled.button`\nborder-radius:0.5vw;\nborder: solid 1px ${theme.primaryColor};\nbackground-color:#ffffff;\nmin-width:7vw;\nheight:2.3vw;\nmax-height:2.3vw;\ntransition: transform .3s;\ncursor: pointer;\ntext-align: center;\nvertical-align: middle;\n\n&:hover{\n  background-color:${theme.secondaryColor};\n  color:#ffffff;\n  border: solid 1px ${theme.primaryColor};\n}\nfont-size: 1.2vw\nmargin: auto 1vw;\nfont-family: \"Nunito\";\nfont-weight: 900\ncolor:${theme.primaryColor};\noutline:none;\n\n@media ${devices.mobile} {\n  width:20vw;;\n  height:auto;\n  max-height:10vw;\n  font-size: 4vw\n  \n}\n\n`;\n\n\nconst FeatureSet = styled.div`\n  display:flex\n  justify-content:space-between;\n\n\n  @media ${devices.mobile} {\n    margin:auto;\n    width:90vw;\n  }\n`;\n\nconst OverlayFeatureSet = styled.div`\n  width:25vw;\n  display:flex\n  justify-content:space-around;\n  margin:10px;\n`;\n\nconst FeatureWrapper = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst DroneStroryWrpper = styled.div`\n  display:flex\n  justify-content:space-around;\n  width:100%;\n`;\n\nconst StoryInputWrapper = styled.div`\nposition:relative;\n  width: 70vw;\n  min-height: 40vh;\n  background-color: #efefef;\n  margin: 5vh auto;\n  border-radius: 2vw;\n`;\n\nconst StoryInput = styled.textarea`\nfont-size: 2vw\nmargin: 5vh;\nfont-family: \"Nunito\";\nfont-weight: 500\ncolor:${theme.primaryColor};\nwidth: 60vw;\nheight: 30vh;\nbackground-color:#efefef;\nresize: none;\n  border: none;\n  overflow: auto;\n  outline: none;\n  text-align:center;\n`;\n\nconst StoryPrompt = styled.p`\nfont-size: 1.3vw\n \n  margin: auto;\n  font-family: \"Roboto\";\n  font-weight: 400;\n  padding:2vw;\n \n  text-align:center;\n`;\n\n\n\nconst Arrow = styled.div`\n  content: \"\";\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  border-left: 20px solid ${props => props.position == 1 ? '#efefef' : 'transparent'};\n  border-right: 20px solid ${props => props.position == 1 ? 'transparent' : '#efefef'};\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid #efefef;\n  left: ${props => props.position == 0 ? 10 : props.position == 1 ? 50 : 90}%;\n  top: -40px;\n`;\n\nconst DotWrapper = styled.div`\n  width: 15vw;\n  height: 2vw;\n  margin:auto;\n  display:flex;\n  justify-content:space-around;\n\n  @media ${devices.mobile} {\n    width: 30vw;\n  height: 3vw;\n  }\n`;\n\nconst Dot = styled.div`\n  width:1vw;\n  height:1vw;\n  background-color:${props => props.selected ? theme.secondaryColor : '#DCDCDC'};\n  border-radius:5vw;\n\n  @media ${devices.mobile} {\n    width:2vw;\n    height:2vw;\n  }\n`;\n\n\n\n\nconst STORY_PLACEHOLDER = \"Add your story\";\n\nconst STORY_PROMPT = \"Add your own story about this drone. Where does it fly? What does it do there and why?\"\n\nconst DRONE_SET_SIZE = 9;\nconst VISIBLE_DRONES_COUNT = 1;\n\nconst LEFT_FACTOR = 26;\nconst TOP_FACTOR = 13;\nconst LEFT_0 = 6.5;\nconst TOP_0 = 6.5;\n\nvar dronePool = [];\n\nclass ReactToStoryView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visiblefeatureIndex: 0,\n      visibleFetures: [],\n      droneSet: [],\n      selectedFetures: [],\n      drone: null,\n      droneStory: \"\",\n      droneStoryPlaceholder: STORY_PLACEHOLDER,\n      position: -1,\n      renderStoryInput: false\n    };\n  }\n\n  componentDidMount() {\n    document.title=\"Dream Drone\"\n    \n    //fetch features, populate the feature pool, populate featureset\n    fetch(\"/random/drones/99\")\n      .then(response => response.json())\n      .then(data => {\n        for (var i = 0; i < data.length; i++) {\n          fetch(\"/drones/\" + data[i]._id)\n            .then(response => response.json())\n            .then(data => {\n              \n              !data.isFlagged && data.name && !isGibberish(data.name,5)&&dronePool.push(data);\n\n              if(this.state.droneSet.length<=0 && dronePool.length>DRONE_SET_SIZE){\n                this.setDroneSet(DRONE_SET_SIZE)\n              }\n            });\n        }\n        \n      });\n\n    //fetch the drone data using id\n    fetch(\"/drones/\" + this.props.match.params.id)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ drone: data });\n      });\n\n      \n  }\n\n  updateDrone() {\n    fetch('/drones/' + this.state.drone._id,\n      {\n        method: 'PUT',\n        body: JSON.stringify(this.state.drone),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json',\n          'Mode': \"CORS\"\n        }\n      }).then(response => response.json())\n      .then(data => { console.log(data) }\n      );\n  }\n\n  render() {\n\n    \n    if (this.state.drone == null) return <LoadingWidget></LoadingWidget>;\n\n    if(!this.state.droneSet.length>0) return <LoadingWidget></LoadingWidget>;\n\n    return (\n      <Wrapper>\n        <Header>\n          <Button onClick={() => { this.props.history.push('../story/' + this.state.drone._id) }}>Back</Button>\n          <HeaderText>Step 3 of 3: Tell us what to do you think about someone else’s dream drone.</HeaderText>\n          {this.renderButton()}\n        </Header>\n        <ContentWrapper>\n\n              {/* <RowHeader>Pick a dream drone and add a story to it</RowHeader> */}\n             \n                {/* <CircleButton onClick={() => this.handlePreviousClick()}>{'<'}</CircleButton> */}\n                <DroneStroryWrpper>\n                  {this.state.droneSet.slice(this.state.visiblefeatureIndex, this.state.visiblefeatureIndex + VISIBLE_DRONES_COUNT).map((item, key) =>\n                    <DroneStory drone={item}\n                      index={this.state.visiblefeatureIndex + key}\n                      callback={this.writeCallbackHandler.bind(this)}\n                      selected={this.state.position == key}\n                      disabled={this.state.position >= 0 || this.state.position != key}\n                    ></DroneStory>\n                    , this)}\n                </DroneStroryWrpper>\n\n                {/* <CircleButton onClick={() => this.handleNextClick()}>></CircleButton> */}\n        \n           \n            {/* {!this.state.renderStoryInput && <Row>\n              <DotWrapper>\n                {this.renderScrollDots()}\n              </DotWrapper>\n            </Row>} */}\n          \n        </ContentWrapper>\n\n\n        {/* {this.state.renderStoryInput && <StoryInputWrapper ref=\"bottom\">\n          <StoryPrompt>{STORY_PROMPT}</StoryPrompt>\n          <StoryInput\n            placeholder={this.state.droneStoryPlaceholder}\n            onClick={(ev) => { this.setState({ droneStoryPlaceholder: \"\" }) }}\n            onBlur={(ev) => { this.setState({ droneStoryPlaceholder: STORY_PLACEHOLDER }); }}\n            value={this.state.droneStory}\n            onChange={(ev) => this.onDroneStoryChange(ev)}>\n          </StoryInput>\n          <Arrow position={this.state.position}></Arrow>\n        </StoryInputWrapper>} */}\n\n<RefreshButton onClick={() => { this.handleNextClick()}}>See a Different Drone</RefreshButton>\n\n      </Wrapper>\n    )\n  }\n\n  renderButton() {\n    if (this.state.drone.features.length > 0) {\n      return <Button onClick={() => { this.props.history.push('../complete/' + this.state.drone.createdBy._id) }}>Submit</Button>\n    }\n    return null;\n  }\n\n  writeCallbackHandler() {\n\n  }\n\n  onDroneStoryChange(ev) {\n    this.setState({ droneStory: ev.target.value });\n  }\n\n\n  handleNextClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index + VISIBLE_DRONES_COUNT) < this.state.droneSet.length) {\n      this.setState({ visiblefeatureIndex: (index + VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  handlePreviousClick() {\n    let index = this.state.visiblefeatureIndex;\n    if (index != null && (index - VISIBLE_DRONES_COUNT) >= 0) {\n      this.setState({ visiblefeatureIndex: (index - VISIBLE_DRONES_COUNT) })\n    }\n  }\n\n  setDroneSet(length) {\n \n    var droneSet = [];\n    droneSet = dronePool.splice(0, length)\n    this.setState({ droneSet: droneSet });\n  }\n\n\n  renderScrollDots() {\n    let dots = []\n    let selected = false;\n    let index = this.state.visiblefeatureIndex;\n\n\n    for (let i = 0; i < DRONE_SET_SIZE / VISIBLE_DRONES_COUNT; i++) {\n      selected = i == index / VISIBLE_DRONES_COUNT;\n      dots.push(<Dot selected={selected}></Dot>)\n    }\n    return dots;\n  }\n\n\n\n\n\n\n}\n\nexport default ReactToStoryView;\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { Switch, Route } from \"react-router-dom\";\n\n\nimport Root from \"./components/Root\";\nimport Features from \"./components/AddFeaturesView\";\nimport Story from \"./components/AddStoryView\";\nimport Select from \"./components/SelectStoryView\";\nimport StartView from \"./components/StartView\";\nimport FinishView from \"./components/FinishView\";\nimport DoneView from \"./components/DoneView\";\nimport ConsentView from \"./components/ConsentView\";\nimport TestView from \"./components/TestView\";\nimport DataView from \"./components/DataView\";\nimport AllStroriesView from \"./components/AllStoriesView\";\nimport ReactToStoryView from \"./components/ReactToStoryView\";\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Switch>\n          <Route exact path=\"/\" component={StartView} />\n          <Route\n            path=\"/superpowers/:id\"\n            component={Features}\n          />\n          <Route\n            path=\"/story/:id\"\n            component={Story}\n          />\n          <Route\n            path=\"/select/:id\"\n            component={Select}\n          />\n          <Route\n            path=\"/react/:id\"\n            component={ReactToStoryView}\n          />\n          <Route\n            path=\"/complete/:user_id\"\n            component={FinishView}\n          />\n          <Route\n            path=\"/done\"\n            component={DoneView}\n          />\n          <Route\n            path=\"/consent/:view?\"\n            component={ConsentView}\n          />\n          <Route\n            path=\"/test\"\n            component={TestView}\n          />\n          <Route\n            path=\"/data\"\n            component={DataView}\n          />\n          <Route\n            path=\"/allstories/:user_id?\"\n            component={AllStroriesView}\n          />\n        </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\n\n\nReactDOM.render(\n    <BrowserRouter>\n    <App />\n  </BrowserRouter>, \n  document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}